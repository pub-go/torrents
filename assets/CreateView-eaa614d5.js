import{i as Pn,s as Nn,f as Bn,a as Tt,b as de,c as Pt,d as xe,e as $n,g as Se,h as Le,r as V,j as E,k as Q,u as pe,w as ne,l as nn,p as ot,m as ze,t as an,n as Nt,o as F,q as J,v as ce,x as q,y as s,_ as be,z as Je,A as Fe,B as bt,C as tt,D as qe,E as Bt,F as rn,G as ut,H as v,I as He,J as Ue,K as sn,L as On,M as Vn,N as ht,O as vt,P as x,Q as H,R as Ve,S as Te,T as Y,U as L,V as G,W as Z,X as qn,Y as De,Z as $t,$ as ke,a0 as Ot,a1 as Vt,a2 as ln,a3 as it,a4 as Ke,a5 as oe,a6 as An,a7 as on,a8 as un,a9 as In,aa as Ln,ab as cn,ac as Lt,ad as qt,ae as Rn,af as Mn,ag as zn,ah as Wn,ai as Ye,aj as jn,ak as Rt,al as Mt,am as Un,an as dn,ao as Dn,ap as Kn,aq as zt,ar as Gn,as as Hn,at as Yn,au as Wt,av as jt,aw as Zn,ax as Jn,ay as te,az as S,aA as $e,aB as at,aC as Xn,aD as Qn,aE as ea,aF as ta,aG as na,aH as Ut,aI as aa,aJ as ra,aK as sa,aL as la,aM as ia,aN as oa}from"./index-ad8d61cb.js";import{b as ua,u as ct,C as Xe,i as ca,U as Qe,I as wt,a as da,c as fa,d as pa,e as Ee,_ as va,E as ma,t as Dt,B as ga,f as ya,g as ba,h as ha,j as wa,k as _a,l as Sa}from"./DictEdit.vue_vue_type_script_setup_true_lang-f6b49bda.js";function _t(){if(!arguments.length)return[];var n=arguments[0];return Pn(n)?n:[n]}var ka=4;function Kt(n){return ua(n,ka)}const xa=(n,e,t)=>Bn(n.subTree).filter(i=>{var l;return Tt(i)&&((l=i.type)==null?void 0:l.name)===e&&!!i.component}).map(i=>i.component.uid).map(i=>t[i]).filter(i=>!!i),Ca=(n,e)=>{const t={},a=Nn([]);return{children:a,addChild:l=>{t[l.uid]=l,a.value=xa(n,e,t)},removeChild:l=>{delete t[l],a.value=a.value.filter(o=>o.uid!==l)}}},Ea=de({size:{type:String,values:Pt},disabled:Boolean}),Fa=de({...Ea,model:Object,rules:{type:xe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Ta={validate:(n,e,t)=>($n(n)||Se(n))&&Le(e)&&Se(t)};function Pa(){const n=V([]),e=E(()=>{if(!n.value.length)return"0";const i=Math.max(...n.value);return i?`${i}px`:""});function t(i){const l=n.value.indexOf(i);return l===-1&&e.value,l}function a(i,l){if(i&&l){const o=t(l);n.value.splice(o,1,i)}else i&&n.value.push(i)}function r(i){const l=t(i);l>-1&&n.value.splice(l,1)}return{autoLabelWidth:e,registerLabelWidth:a,deregisterLabelWidth:r}}const rt=(n,e)=>{const t=_t(e);return t.length>0?n.filter(a=>a.prop&&t.includes(a.prop)):n},Na="ElForm",Ba=Q({name:Na}),$a=Q({...Ba,props:Fa,emits:Ta,setup(n,{expose:e,emit:t}){const a=n,r=[],i=ct(),l=pe("form"),o=E(()=>{const{labelPosition:p,inline:b}=a;return[l.b(),l.m(i.value||"default"),{[l.m(`label-${p}`)]:p,[l.m("inline")]:b}]}),d=p=>{r.push(p)},w=p=>{p.prop&&r.splice(r.indexOf(p),1)},g=(p=[])=>{a.model&&rt(r,p).forEach(b=>b.resetField())},y=(p=[])=>{rt(r,p).forEach(b=>b.clearValidate())},f=E(()=>!!a.model),k=p=>{if(r.length===0)return[];const b=rt(r,p);return b.length?b:[]},$=async p=>_(void 0,p),h=async(p=[])=>{if(!f.value)return!1;const b=k(p);if(b.length===0)return!0;let T={};for(const c of b)try{await c.validate("")}catch(P){T={...T,...P}}return Object.keys(T).length===0?!0:Promise.reject(T)},_=async(p=[],b)=>{const T=!Je(b);try{const c=await h(p);return c===!0&&b?.(c),c}catch(c){if(c instanceof Error)throw c;const P=c;return a.scrollToError&&m(Object.keys(P)[0]),b?.(!1,P),T&&Promise.reject(P)}},m=p=>{var b;const T=rt(r,p)[0];T&&((b=T.$el)==null||b.scrollIntoView(a.scrollIntoViewOptions))};return ne(()=>a.rules,()=>{a.validateOnRuleChange&&$().catch(p=>nn())},{deep:!0}),ot(Nt,ze({...an(a),emit:t,resetFields:g,clearValidate:y,validateField:_,addField:d,removeField:w,...Pa()})),e({validate:$,validateField:_,resetFields:g,clearValidate:y,scrollToField:m}),(p,b)=>(F(),J("form",{class:q(s(o))},[ce(p.$slots,"default")],2))}});var Oa=be($a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Oe(){return Oe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Oe.apply(this,arguments)}function Va(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,et(n,e)}function St(n){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(n)}function et(n,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},et(n,e)}function qa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lt(n,e,t){return qa()?lt=Reflect.construct.bind():lt=function(r,i,l){var o=[null];o.push.apply(o,i);var d=Function.bind.apply(r,o),w=new d;return l&&et(w,l.prototype),w},lt.apply(null,arguments)}function Aa(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function kt(n){var e=typeof Map=="function"?new Map:void 0;return kt=function(a){if(a===null||!Aa(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(a))return e.get(a);e.set(a,r)}function r(){return lt(a,arguments,St(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),et(r,a)},kt(n)}var Ia=/%[sdj%]/g,La=function(){};typeof process<"u"&&process.env;function xt(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var a=t.field;e[a]=e[a]||[],e[a].push(t)}),e}function ue(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];var r=0,i=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var l=n.replace(Ia,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return o}});return l}return n}function Ra(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function re(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Ra(e)&&typeof n=="string"&&!n)}function Ma(n,e,t){var a=[],r=0,i=n.length;function l(o){a.push.apply(a,o||[]),r++,r===i&&t(a)}n.forEach(function(o){e(o,l)})}function Gt(n,e,t){var a=0,r=n.length;function i(l){if(l&&l.length){t(l);return}var o=a;a=a+1,o<r?e(n[o],i):t([])}i([])}function za(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var Ht=function(n){Va(e,n);function e(t,a){var r;return r=n.call(this,"Async Validation Error")||this,r.errors=t,r.fields=a,r}return e}(kt(Error));function Wa(n,e,t,a,r){if(e.first){var i=new Promise(function(f,k){var $=function(m){return a(m),m.length?k(new Ht(m,xt(m))):f(r)},h=za(n);Gt(h,t,$)});return i.catch(function(f){return f}),i}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),d=o.length,w=0,g=[],y=new Promise(function(f,k){var $=function(_){if(g.push.apply(g,_),w++,w===d)return a(g),g.length?k(new Ht(g,xt(g))):f(r)};o.length||(a(g),f(r)),o.forEach(function(h){var _=n[h];l.indexOf(h)!==-1?Gt(_,t,$):Ma(_,t,$)})});return y.catch(function(f){return f}),y}function ja(n){return!!(n&&n.message!==void 0)}function Ua(n,e){for(var t=n,a=0;a<e.length;a++){if(t==null)return t;t=t[e[a]]}return t}function Yt(n,e){return function(t){var a;return n.fullFields?a=Ua(e,n.fullFields):a=e[t.field||n.fullField],ja(t)?(t.field=t.field||n.fullField,t.fieldValue=a,t):{message:typeof t=="function"?t():t,fieldValue:a,field:t.field||n.fullField}}}function Zt(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];typeof a=="object"&&typeof n[t]=="object"?n[t]=Oe({},n[t],a):n[t]=a}}return n}var fn=function(e,t,a,r,i,l){e.required&&(!a.hasOwnProperty(e.field)||re(t,l||e.type))&&r.push(ue(i.messages.required,e.fullField))},Da=function(e,t,a,r,i){(/^\s+$/.test(t)||t==="")&&r.push(ue(i.messages.whitespace,e.fullField))},st,Ka=function(){if(st)return st;var n="[a-fA-F\\d:]",e=function(T){return T&&T.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+a+":){7}(?:"+a+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+a+":){6}(?:"+t+"|:"+a+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+a+":){5}(?::"+t+"|(?::"+a+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+a+":){4}(?:(?::"+a+"){0,1}:"+t+"|(?::"+a+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+a+":){3}(?:(?::"+a+"){0,2}:"+t+"|(?::"+a+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+a+":){2}(?:(?::"+a+"){0,3}:"+t+"|(?::"+a+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+a+":){1}(?:(?::"+a+"){0,4}:"+t+"|(?::"+a+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+a+"){0,5}:"+t+"|(?::"+a+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+t+"$)|(?:^"+r+"$)"),l=new RegExp("^"+t+"$"),o=new RegExp("^"+r+"$"),d=function(T){return T&&T.exact?i:new RegExp("(?:"+e(T)+t+e(T)+")|(?:"+e(T)+r+e(T)+")","g")};d.v4=function(b){return b&&b.exact?l:new RegExp(""+e(b)+t+e(b),"g")},d.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+r+e(b),"g")};var w="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",y=d.v4().source,f=d.v6().source,k="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",$="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',p="(?:"+w+"|www\\.)"+g+"(?:localhost|"+y+"|"+f+"|"+k+$+h+")"+_+m;return st=new RegExp("(?:^"+p+"$)","i"),st},Jt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ge={integer:function(e){return Ge.number(e)&&parseInt(e,10)===e},float:function(e){return Ge.number(e)&&!Ge.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Ge.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Jt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ka())},hex:function(e){return typeof e=="string"&&!!e.match(Jt.hex)}},Ga=function(e,t,a,r,i){if(e.required&&t===void 0){fn(e,t,a,r,i);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;l.indexOf(o)>-1?Ge[o](t)||r.push(ue(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(ue(i.messages.types[o],e.fullField,e.type))},Ha=function(e,t,a,r,i){var l=typeof e.len=="number",o=typeof e.min=="number",d=typeof e.max=="number",w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=t,y=null,f=typeof t=="number",k=typeof t=="string",$=Array.isArray(t);if(f?y="number":k?y="string":$&&(y="array"),!y)return!1;$&&(g=t.length),k&&(g=t.replace(w,"_").length),l?g!==e.len&&r.push(ue(i.messages[y].len,e.fullField,e.len)):o&&!d&&g<e.min?r.push(ue(i.messages[y].min,e.fullField,e.min)):d&&!o&&g>e.max?r.push(ue(i.messages[y].max,e.fullField,e.max)):o&&d&&(g<e.min||g>e.max)&&r.push(ue(i.messages[y].range,e.fullField,e.min,e.max))},Ie="enum",Ya=function(e,t,a,r,i){e[Ie]=Array.isArray(e[Ie])?e[Ie]:[],e[Ie].indexOf(t)===-1&&r.push(ue(i.messages[Ie],e.fullField,e[Ie].join(", ")))},Za=function(e,t,a,r,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(ue(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(t)||r.push(ue(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},z={required:fn,whitespace:Da,type:Ga,range:Ha,enum:Ya,pattern:Za},Ja=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t,"string")&&!e.required)return a();z.required(e,t,r,l,i,"string"),re(t,"string")||(z.type(e,t,r,l,i),z.range(e,t,r,l,i),z.pattern(e,t,r,l,i),e.whitespace===!0&&z.whitespace(e,t,r,l,i))}a(l)},Xa=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&z.type(e,t,r,l,i)}a(l)},Qa=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&(z.type(e,t,r,l,i),z.range(e,t,r,l,i))}a(l)},er=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&z.type(e,t,r,l,i)}a(l)},tr=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),re(t)||z.type(e,t,r,l,i)}a(l)},nr=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&(z.type(e,t,r,l,i),z.range(e,t,r,l,i))}a(l)},ar=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&(z.type(e,t,r,l,i),z.range(e,t,r,l,i))}a(l)},rr=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return a();z.required(e,t,r,l,i,"array"),t!=null&&(z.type(e,t,r,l,i),z.range(e,t,r,l,i))}a(l)},sr=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&z.type(e,t,r,l,i)}a(l)},lr="enum",ir=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i),t!==void 0&&z[lr](e,t,r,l,i)}a(l)},or=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t,"string")&&!e.required)return a();z.required(e,t,r,l,i),re(t,"string")||z.pattern(e,t,r,l,i)}a(l)},ur=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t,"date")&&!e.required)return a();if(z.required(e,t,r,l,i),!re(t,"date")){var d;t instanceof Date?d=t:d=new Date(t),z.type(e,d,r,l,i),d&&z.range(e,d.getTime(),r,l,i)}}a(l)},cr=function(e,t,a,r,i){var l=[],o=Array.isArray(t)?"array":typeof t;z.required(e,t,r,l,i,o),a(l)},mt=function(e,t,a,r,i){var l=e.type,o=[],d=e.required||!e.required&&r.hasOwnProperty(e.field);if(d){if(re(t,l)&&!e.required)return a();z.required(e,t,r,o,i,l),re(t,l)||z.type(e,t,r,o,i)}a(o)},dr=function(e,t,a,r,i){var l=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(re(t)&&!e.required)return a();z.required(e,t,r,l,i)}a(l)},Ze={string:Ja,method:Xa,number:Qa,boolean:er,regexp:tr,integer:nr,float:ar,array:rr,object:sr,enum:ir,pattern:or,date:ur,url:mt,hex:mt,email:mt,required:cr,any:dr};function Ct(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Et=Ct(),nt=function(){function n(t){this.rules=null,this._messages=Et,this.define(t)}var e=n.prototype;return e.define=function(a){var r=this;if(!a)throw new Error("Cannot configure a schema with no rules");if(typeof a!="object"||Array.isArray(a))throw new Error("Rules must be an object");this.rules={},Object.keys(a).forEach(function(i){var l=a[i];r.rules[i]=Array.isArray(l)?l:[l]})},e.messages=function(a){return a&&(this._messages=Zt(Ct(),a)),this._messages},e.validate=function(a,r,i){var l=this;r===void 0&&(r={}),i===void 0&&(i=function(){});var o=a,d=r,w=i;if(typeof d=="function"&&(w=d,d={}),!this.rules||Object.keys(this.rules).length===0)return w&&w(null,o),Promise.resolve(o);function g(h){var _=[],m={};function p(T){if(Array.isArray(T)){var c;_=(c=_).concat.apply(c,T)}else _.push(T)}for(var b=0;b<h.length;b++)p(h[b]);_.length?(m=xt(_),w(_,m)):w(null,o)}if(d.messages){var y=this.messages();y===Et&&(y=Ct()),Zt(y,d.messages),d.messages=y}else d.messages=this.messages();var f={},k=d.keys||Object.keys(this.rules);k.forEach(function(h){var _=l.rules[h],m=o[h];_.forEach(function(p){var b=p;typeof b.transform=="function"&&(o===a&&(o=Oe({},o)),m=o[h]=b.transform(m)),typeof b=="function"?b={validator:b}:b=Oe({},b),b.validator=l.getValidationMethod(b),b.validator&&(b.field=h,b.fullField=b.fullField||h,b.type=l.getType(b),f[h]=f[h]||[],f[h].push({rule:b,value:m,source:o,field:h}))})});var $={};return Wa(f,d,function(h,_){var m=h.rule,p=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");p=p&&(m.required||!m.required&&h.value),m.field=h.field;function b(P,N){return Oe({},N,{fullField:m.fullField+"."+P,fullFields:m.fullFields?[].concat(m.fullFields,[P]):[P]})}function T(P){P===void 0&&(P=[]);var N=Array.isArray(P)?P:[P];!d.suppressWarning&&N.length&&n.warning("async-validator:",N),N.length&&m.message!==void 0&&(N=[].concat(m.message));var B=N.map(Yt(m,o));if(d.first&&B.length)return $[m.field]=1,_(B);if(!p)_(B);else{if(m.required&&!h.value)return m.message!==void 0?B=[].concat(m.message).map(Yt(m,o)):d.error&&(B=[d.error(m,ue(d.messages.required,m.field))]),_(B);var I={};m.defaultField&&Object.keys(h.value).map(function(j){I[j]=m.defaultField}),I=Oe({},I,h.rule.fields);var D={};Object.keys(I).forEach(function(j){var U=I[j],X=Array.isArray(U)?U:[U];D[j]=X.map(b.bind(null,j))});var C=new n(D);C.messages(d.messages),h.rule.options&&(h.rule.options.messages=d.messages,h.rule.options.error=d.error),C.validate(h.value,h.rule.options||d,function(j){var U=[];B&&B.length&&U.push.apply(U,B),j&&j.length&&U.push.apply(U,j),_(U.length?U:null)})}}var c;if(m.asyncValidator)c=m.asyncValidator(m,h.value,T,h.source,d);else if(m.validator){try{c=m.validator(m,h.value,T,h.source,d)}catch(P){console.error?.(P),d.suppressValidatorError||setTimeout(function(){throw P},0),T(P.message)}c===!0?T():c===!1?T(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):c instanceof Array?T(c):c instanceof Error&&T(c.message)}c&&c.then&&c.then(function(){return T()},function(P){return T(P)})},function(h){g(h)},o)},e.getType=function(a){if(a.type===void 0&&a.pattern instanceof RegExp&&(a.type="pattern"),typeof a.validator!="function"&&a.type&&!Ze.hasOwnProperty(a.type))throw new Error(ue("Unknown rule type %s",a.type));return a.type||"string"},e.getValidationMethod=function(a){if(typeof a.validator=="function")return a.validator;var r=Object.keys(a),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?Ze.required:Ze[this.getType(a)]||void 0},n}();nt.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ze[e]=t};nt.warning=La;nt.messages=Et;nt.validators=Ze;const fr=["","error","validating","success"],pr=de({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:xe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:xe([Object,Array])},error:String,validateStatus:{type:String,values:fr},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Pt}}),Xt="ElLabelWrap";var vr=Q({name:Xt,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Fe(Nt,void 0),a=Fe(bt);a||tt(Xt,"usage: <el-form-item><label-wrap /></el-form-item>");const r=pe("form"),i=V(),l=V(0),o=()=>{var g;if((g=i.value)!=null&&g.firstElementChild){const y=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(y))}else return 0},d=(g="update")=>{Ue(()=>{e.default&&n.isAutoWidth&&(g==="update"?l.value=o():g==="remove"&&t?.deregisterLabelWidth(l.value))})},w=()=>d("update");return qe(()=>{w()}),Bt(()=>{d("remove")}),rn(()=>w()),ne(l,(g,y)=>{n.updateAll&&t?.registerLabelWidth(g,y)}),ut(E(()=>{var g,y;return(y=(g=i.value)==null?void 0:g.firstElementChild)!=null?y:null}),w),()=>{var g,y;if(!e)return null;const{isAutoWidth:f}=n;if(f){const k=t?.autoLabelWidth,$=a?.hasLabel,h={};if($&&k&&k!=="auto"){const _=Math.max(0,Number.parseInt(k,10)-l.value),m=t.labelPosition==="left"?"marginRight":"marginLeft";_&&(h[m]=`${_}px`)}return v("div",{ref:i,class:[r.be("item","label-wrap")],style:h},[(g=e.default)==null?void 0:g.call(e)])}else return v(He,{ref:i},[(y=e.default)==null?void 0:y.call(e)])}}});const mr=["role","aria-labelledby"],gr=Q({name:"ElFormItem"}),yr=Q({...gr,props:pr,setup(n,{expose:e}){const t=n,a=sn(),r=Fe(Nt,void 0),i=Fe(bt,void 0),l=ct(void 0,{formItem:!1}),o=pe("form-item"),d=On().value,w=V([]),g=V(""),y=Vn(g,100),f=V(""),k=V();let $,h=!1;const _=E(()=>{if(r?.labelPosition==="top")return{};const u=ht(t.labelWidth||r?.labelWidth||"");return u?{width:u}:{}}),m=E(()=>{if(r?.labelPosition==="top"||r?.inline)return{};if(!t.label&&!t.labelWidth&&I)return{};const u=ht(t.labelWidth||r?.labelWidth||"");return!t.label&&!a.label?{marginLeft:u}:{}}),p=E(()=>[o.b(),o.m(l.value),o.is("error",g.value==="error"),o.is("validating",g.value==="validating"),o.is("success",g.value==="success"),o.is("required",X.value||t.required),o.is("no-asterisk",r?.hideRequiredAsterisk),r?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:r?.statusIcon}]),b=E(()=>Le(t.inlineMessage)?t.inlineMessage:r?.inlineMessage||!1),T=E(()=>[o.e("error"),{[o.em("error","inline")]:b.value}]),c=E(()=>t.prop?Se(t.prop)?t.prop:t.prop.join("."):""),P=E(()=>!!(t.label||a.label)),N=E(()=>t.for||w.value.length===1?w.value[0]:void 0),B=E(()=>!N.value&&P.value),I=!!i,D=E(()=>{const u=r?.model;if(!(!u||!t.prop))return vt(u,t.prop).value}),C=E(()=>{const{required:u}=t,R=[];t.rules&&R.push(..._t(t.rules));const A=r?.rules;if(A&&t.prop){const W=vt(A,t.prop).value;W&&R.push(..._t(W))}if(u!==void 0){const W=R.map((le,we)=>[le,we]).filter(([le])=>Object.keys(le).includes("required"));if(W.length>0)for(const[le,we]of W)le.required!==u&&(R[we]={...le,required:u});else R.push({required:u})}return R}),j=E(()=>C.value.length>0),U=u=>C.value.filter(A=>!A.trigger||!u?!0:Array.isArray(A.trigger)?A.trigger.includes(u):A.trigger===u).map(({trigger:A,...W})=>W),X=E(()=>C.value.some(u=>u.required)),se=E(()=>{var u;return y.value==="error"&&t.showMessage&&((u=r?.showMessage)!=null?u:!0)}),ae=E(()=>`${t.label||""}${r?.labelSuffix||""}`),K=u=>{g.value=u},he=u=>{var R,A;const{errors:W,fields:le}=u;(!W||!le)&&console.error(u),K("error"),f.value=W?(A=(R=W?.[0])==null?void 0:R.message)!=null?A:`${t.prop} is required`:"",r?.emit("validate",t.prop,!1,f.value)},Pe=()=>{K("success"),r?.emit("validate",t.prop,!0,"")},Ne=async u=>{const R=c.value;return new nt({[R]:u}).validate({[R]:D.value},{firstFields:!0}).then(()=>(Pe(),!0)).catch(W=>(he(W),Promise.reject(W)))},Ce=async(u,R)=>{if(h||!t.prop)return!1;const A=Je(R);if(!j.value)return R?.(!1),!1;const W=U(u);return W.length===0?(R?.(!0),!0):(K("validating"),Ne(W).then(()=>(R?.(!0),!0)).catch(le=>{const{fields:we}=le;return R?.(!1,we),A?!1:Promise.reject(we)}))},Be=()=>{K(""),f.value="",h=!1},me=async()=>{const u=r?.model;if(!u||!t.prop)return;const R=vt(u,t.prop);h=!0,R.value=Kt($),await Ue(),Be(),h=!1},fe=u=>{w.value.includes(u)||w.value.push(u)},ft=u=>{w.value=w.value.filter(R=>R!==u)};ne(()=>t.error,u=>{f.value=u||"",K(u?"error":"")},{immediate:!0}),ne(()=>t.validateStatus,u=>K(u||""));const O=ze({...an(t),$el:k,size:l,validateState:g,labelId:d,inputIds:w,isGroup:B,hasLabel:P,addInputId:fe,removeInputId:ft,resetField:me,clearValidate:Be,validate:Ce});return ot(bt,O),qe(()=>{t.prop&&(r?.addField(O),$=Kt(D.value))}),Bt(()=>{r?.removeField(O)}),e({size:l,validateMessage:f,validateState:g,validate:Ce,clearValidate:Be,resetField:me}),(u,R)=>{var A;return F(),J("div",{ref_key:"formItemRef",ref:k,class:q(s(p)),role:s(B)?"group":void 0,"aria-labelledby":s(B)?s(d):void 0},[v(s(vr),{"is-auto-width":s(_).width==="auto","update-all":((A=s(r))==null?void 0:A.labelWidth)==="auto"},{default:x(()=>[s(P)?(F(),H(Ve(s(N)?"label":"div"),{key:0,id:s(d),for:s(N),class:q(s(o).e("label")),style:Te(s(_))},{default:x(()=>[ce(u.$slots,"label",{label:s(ae)},()=>[Y(L(s(ae)),1)])]),_:3},8,["id","for","class","style"])):G("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:q(s(o).e("content")),style:Te(s(m))},[ce(u.$slots,"default"),v(qn,{name:`${s(o).namespace.value}-zoom-in-top`},{default:x(()=>[s(se)?ce(u.$slots,"error",{key:0,error:f.value},()=>[Z("div",{class:q(s(T))},L(f.value),3)]):G("v-if",!0)]),_:3},8,["name"])],6)],10,mr)}}});var pn=be(yr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const br=De(Oa,{FormItem:pn}),hr=$t(pn),wr=de({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_r=["textContent"],Sr=Q({name:"ElBadge"}),kr=Q({...Sr,props:wr,setup(n,{expose:e}){const t=n,a=pe("badge"),r=E(()=>t.isDot?"":ke(t.value)&&ke(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return e({content:r}),(i,l)=>(F(),J("div",{class:q(s(a).b())},[ce(i.$slots,"default"),v(ln,{name:`${s(a).namespace.value}-zoom-in-center`,persisted:""},{default:x(()=>[Ot(Z("sup",{class:q([s(a).e("content"),s(a).em("content",i.type),s(a).is("fixed",!!i.$slots.default),s(a).is("dot",i.isDot)]),textContent:L(s(r))},null,10,_r),[[Vt,!i.hidden&&(s(r)||i.isDot)]])]),_:1},8,["name"])],2))}});var xr=be(kr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Cr=De(xr),Er=de({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Fr={[Xe]:(n,e)=>[n,e].every(ke)},Tr=Q({name:"ElSteps"}),Pr=Q({...Tr,props:Er,emits:Fr,setup(n,{emit:e}){const t=n,a=pe("steps"),r=V([]);return ne(r,()=>{r.value.forEach((i,l)=>{i.setIndex(l)})}),ot("ElSteps",{props:t,steps:r}),ne(()=>t.active,(i,l)=>{e(Xe,i,l)}),(i,l)=>(F(),J("div",{class:q([s(a).b(),s(a).m(i.simple?"simple":i.direction)])},[ce(i.$slots,"default")],2))}});var Nr=be(Pr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const Br=de({title:{type:String,default:""},icon:{type:it},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),$r=Q({name:"ElStep"}),Or=Q({...$r,props:Br,setup(n){const e=n,t=pe("step"),a=V(-1),r=V({}),i=V(""),l=Fe("ElSteps"),o=Ke();qe(()=>{ne([()=>l.props.active,()=>l.props.processStatus,()=>l.props.finishStatus],([c])=>{b(c)},{immediate:!0})}),Bt(()=>{l.steps.value=l.steps.value.filter(c=>c.uid!==o?.uid)});const d=E(()=>e.status||i.value),w=E(()=>{const c=l.steps.value[a.value-1];return c?c.currentStatus:"wait"}),g=E(()=>l.props.alignCenter),y=E(()=>l.props.direction==="vertical"),f=E(()=>l.props.simple),k=E(()=>l.steps.value.length),$=E(()=>{var c;return((c=l.steps.value[k.value-1])==null?void 0:c.uid)===o?.uid}),h=E(()=>f.value?"":l.props.space),_=E(()=>{const c={flexBasis:ke(h.value)?`${h.value}px`:h.value?h.value:`${100/(k.value-(g.value?0:1))}%`};return y.value||$.value&&(c.maxWidth=`${100/k.value}%`),c}),m=c=>{a.value=c},p=c=>{const P=c==="wait",N={transitionDelay:`${P?"-":""}${150*a.value}ms`},B=c===l.props.processStatus||P?0:100;N.borderWidth=B&&!f.value?"1px":0,N[l.props.direction==="vertical"?"height":"width"]=`${B}%`,r.value=N},b=c=>{c>a.value?i.value=l.props.finishStatus:c===a.value&&w.value!=="error"?i.value=l.props.processStatus:i.value="wait";const P=l.steps.value[a.value-1];P&&P.calcProgress(i.value)},T=ze({uid:E(()=>o?.uid),currentStatus:d,setIndex:m,calcProgress:p});return l.steps.value=[...l.steps.value,T],(c,P)=>(F(),J("div",{style:Te(s(_)),class:q([s(t).b(),s(t).is(s(f)?"simple":s(l).props.direction),s(t).is("flex",s($)&&!s(h)&&!s(g)),s(t).is("center",s(g)&&!s(y)&&!s(f))])},[G(" icon & line "),Z("div",{class:q([s(t).e("head"),s(t).is(s(d))])},[s(f)?G("v-if",!0):(F(),J("div",{key:0,class:q(s(t).e("line"))},[Z("i",{class:q(s(t).e("line-inner")),style:Te(r.value)},null,6)],2)),Z("div",{class:q([s(t).e("icon"),s(t).is(c.icon||c.$slots.icon?"icon":"text")])},[ce(c.$slots,"icon",{},()=>[c.icon?(F(),H(s(oe),{key:0,class:q(s(t).e("icon-inner"))},{default:x(()=>[(F(),H(Ve(c.icon)))]),_:1},8,["class"])):s(d)==="success"?(F(),H(s(oe),{key:1,class:q([s(t).e("icon-inner"),s(t).is("status")])},{default:x(()=>[v(s(An))]),_:1},8,["class"])):s(d)==="error"?(F(),H(s(oe),{key:2,class:q([s(t).e("icon-inner"),s(t).is("status")])},{default:x(()=>[v(s(on))]),_:1},8,["class"])):s(f)?G("v-if",!0):(F(),J("div",{key:3,class:q(s(t).e("icon-inner"))},L(a.value+1),3))])],2)],2),G(" title & description "),Z("div",{class:q(s(t).e("main"))},[Z("div",{class:q([s(t).e("title"),s(t).is(s(d))])},[ce(c.$slots,"title",{},()=>[Y(L(c.title),1)])],2),s(f)?(F(),J("div",{key:0,class:q(s(t).e("arrow"))},null,2)):(F(),J("div",{key:1,class:q([s(t).e("description"),s(t).is(s(d))])},[ce(c.$slots,"description",{},()=>[Y(L(c.description),1)])],2))],2)],6))}});var vn=be(Or,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Vr=De(Nr,{Step:vn}),qr=$t(vn),Ar=de({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:it},inactiveIcon:{type:it},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:xe(Function)},size:{type:String,validator:ca},tabindex:{type:[String,Number]}}),Ir={[Qe]:n=>Le(n)||Se(n)||ke(n),[Xe]:n=>Le(n)||Se(n)||ke(n),[wt]:n=>Le(n)||Se(n)||ke(n)},Lr=["onClick"],Rr=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Mr=["aria-hidden"],zr=["aria-hidden"],Wr=["aria-hidden"],Ft="ElSwitch",jr=Q({name:Ft}),Ur=Q({...jr,props:Ar,emits:Ir,setup(n,{expose:e,emit:t}){const a=n,r=Ke(),{formItem:i}=da(),l=ct(),o=pe("switch");un({from:'"value"',replacement:'"model-value" or "v-model"',scope:Ft,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},E(()=>{var c;return!!((c=r.vnode.props)!=null&&c.value)}));const{inputId:d}=fa(a,{formItemContext:i}),w=pa(E(()=>a.loading)),g=V(a.modelValue!==!1),y=V(),f=V(),k=E(()=>[o.b(),o.m(l.value),o.is("disabled",w.value),o.is("checked",_.value)]),$=E(()=>({width:ht(a.width)}));ne(()=>a.modelValue,()=>{g.value=!0}),ne(()=>a.value,()=>{g.value=!1});const h=E(()=>g.value?a.modelValue:a.value),_=E(()=>h.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(h.value)||(t(Qe,a.inactiveValue),t(Xe,a.inactiveValue),t(wt,a.inactiveValue)),ne(_,c=>{var P;y.value.checked=c,a.validateEvent&&((P=i?.validate)==null||P.call(i,"change").catch(N=>nn()))});const m=()=>{const c=_.value?a.inactiveValue:a.activeValue;t(Qe,c),t(Xe,c),t(wt,c),Ue(()=>{y.value.checked=_.value})},p=()=>{if(w.value)return;const{beforeChange:c}=a;if(!c){m();return}const P=c();[Lt(P),Le(P)].includes(!0)||tt(Ft,"beforeChange must return type `Promise<boolean>` or `boolean`"),Lt(P)?P.then(B=>{B&&m()}).catch(B=>{}):P&&m()},b=E(()=>o.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),T=()=>{var c,P;(P=(c=y.value)==null?void 0:c.focus)==null||P.call(c)};return qe(()=>{y.value.checked=_.value}),e({focus:T,checked:_}),(c,P)=>(F(),J("div",{class:q(s(k)),style:Te(s(b)),onClick:cn(p,["prevent"])},[Z("input",{id:s(d),ref_key:"input",ref:y,class:q(s(o).e("input")),type:"checkbox",role:"switch","aria-checked":s(_),"aria-disabled":s(w),name:c.name,"true-value":c.activeValue,"false-value":c.inactiveValue,disabled:s(w),tabindex:c.tabindex,onChange:m,onKeydown:In(p,["enter"])},null,42,Rr),!c.inlinePrompt&&(c.inactiveIcon||c.inactiveText)?(F(),J("span",{key:0,class:q([s(o).e("label"),s(o).em("label","left"),s(o).is("active",!s(_))])},[c.inactiveIcon?(F(),H(s(oe),{key:0},{default:x(()=>[(F(),H(Ve(c.inactiveIcon)))]),_:1})):G("v-if",!0),!c.inactiveIcon&&c.inactiveText?(F(),J("span",{key:1,"aria-hidden":s(_)},L(c.inactiveText),9,Mr)):G("v-if",!0)],2)):G("v-if",!0),Z("span",{ref_key:"core",ref:f,class:q(s(o).e("core")),style:Te(s($))},[c.inlinePrompt?(F(),J("div",{key:0,class:q(s(o).e("inner"))},[c.activeIcon||c.inactiveIcon?(F(),H(s(oe),{key:0,class:q(s(o).is("icon"))},{default:x(()=>[(F(),H(Ve(s(_)?c.activeIcon:c.inactiveIcon)))]),_:1},8,["class"])):c.activeText||c.inactiveText?(F(),J("span",{key:1,class:q(s(o).is("text")),"aria-hidden":!s(_)},L(s(_)?c.activeText:c.inactiveText),11,zr)):G("v-if",!0)],2)):G("v-if",!0),Z("div",{class:q(s(o).e("action"))},[c.loading?(F(),H(s(oe),{key:0,class:q(s(o).is("loading"))},{default:x(()=>[v(s(Ln))]),_:1},8,["class"])):G("v-if",!0)],2)],6),!c.inlinePrompt&&(c.activeIcon||c.activeText)?(F(),J("span",{key:1,class:q([s(o).e("label"),s(o).em("label","right"),s(o).is("active",s(_))])},[c.activeIcon?(F(),H(s(oe),{key:0},{default:x(()=>[(F(),H(Ve(c.activeIcon)))]),_:1})):G("v-if",!0),!c.activeIcon&&c.activeText?(F(),J("span",{key:1,"aria-hidden":!s(_)},L(c.activeText),9,Wr)):G("v-if",!0)],2)):G("v-if",!0)],14,Lr))}});var Dr=be(Ur,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Kr=De(Dr),dt=Symbol("tabsRootContextKey"),Gr=de({tabs:{type:xe(Array),default:()=>qt([])}}),mn="ElTabBar",Hr=Q({name:mn}),Yr=Q({...Hr,props:Gr,setup(n,{expose:e}){const t=n,a=Ke(),r=Fe(dt);r||tt(mn,"<el-tabs><el-tab-bar /></el-tabs>");const i=pe("tabs"),l=V(),o=V(),d=()=>{let g=0,y=0;const f=["top","bottom"].includes(r.props.tabPosition)?"width":"height",k=f==="width"?"x":"y",$=k==="x"?"left":"top";return t.tabs.every(h=>{var _,m;const p=(m=(_=a.parent)==null?void 0:_.refs)==null?void 0:m[`tab-${h.uid}`];if(!p)return!1;if(!h.active)return!0;g=p[`offset${Ee($)}`],y=p[`client${Ee(f)}`];const b=window.getComputedStyle(p);return f==="width"&&(t.tabs.length>1&&(y-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),g+=Number.parseFloat(b.paddingLeft)),!1}),{[f]:`${y}px`,transform:`translate${Ee(k)}(${g}px)`}},w=()=>o.value=d();return ne(()=>t.tabs,async()=>{await Ue(),w()},{immediate:!0}),ut(l,()=>w()),e({ref:l,update:w}),(g,y)=>(F(),J("div",{ref_key:"barRef",ref:l,class:q([s(i).e("active-bar"),s(i).is(s(r).props.tabPosition)]),style:Te(o.value)},null,6))}});var Zr=be(Yr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Jr=de({panes:{type:xe(Array),default:()=>qt([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Xr={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},Qt="ElTabNav",Qr=Q({name:Qt,props:Jr,emits:Xr,setup(n,{expose:e,emit:t}){const a=Ke(),r=Fe(dt);r||tt(Qt,"<el-tabs><tab-nav /></el-tabs>");const i=pe("tabs"),l=Rn(),o=Mn(),d=V(),w=V(),g=V(),y=V(),f=V(!1),k=V(0),$=V(!1),h=V(!0),_=E(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),m=E(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${k.value}px)`})),p=()=>{if(!d.value)return;const I=d.value[`offset${Ee(_.value)}`],D=k.value;if(!D)return;const C=D>I?D-I:0;k.value=C},b=()=>{if(!d.value||!w.value)return;const I=w.value[`offset${Ee(_.value)}`],D=d.value[`offset${Ee(_.value)}`],C=k.value;if(I-C<=D)return;const j=I-C>D*2?C+D:I-D;k.value=j},T=async()=>{const I=w.value;if(!f.value||!g.value||!d.value||!I)return;await Ue();const D=g.value.querySelector(".is-active");if(!D)return;const C=d.value,j=["top","bottom"].includes(r.props.tabPosition),U=D.getBoundingClientRect(),X=C.getBoundingClientRect(),se=j?I.offsetWidth-X.width:I.offsetHeight-X.height,ae=k.value;let K=ae;j?(U.left<X.left&&(K=ae-(X.left-U.left)),U.right>X.right&&(K=ae+U.right-X.right)):(U.top<X.top&&(K=ae-(X.top-U.top)),U.bottom>X.bottom&&(K=ae+(U.bottom-X.bottom))),K=Math.max(K,0),k.value=Math.min(K,se)},c=()=>{var I;if(!w.value||!d.value)return;n.stretch&&((I=y.value)==null||I.update());const D=w.value[`offset${Ee(_.value)}`],C=d.value[`offset${Ee(_.value)}`],j=k.value;C<D?(f.value=f.value||{},f.value.prev=j,f.value.next=j+C<D,D-j<C&&(k.value=D-C)):(f.value=!1,j>0&&(k.value=0))},P=I=>{const D=I.code,{up:C,down:j,left:U,right:X}=Ye;if(![C,j,U,X].includes(D))return;const se=Array.from(I.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),ae=se.indexOf(I.target);let K;D===U||D===C?ae===0?K=se.length-1:K=ae-1:ae<se.length-1?K=ae+1:K=0,se[K].focus({preventScroll:!0}),se[K].click(),N()},N=()=>{h.value&&($.value=!0)},B=()=>$.value=!1;return ne(l,I=>{I==="hidden"?h.value=!1:I==="visible"&&setTimeout(()=>h.value=!0,50)}),ne(o,I=>{I?setTimeout(()=>h.value=!0,50):h.value=!1}),ut(g,c),qe(()=>setTimeout(()=>T(),0)),rn(()=>c()),e({scrollToActiveTab:T,removeFocus:B}),ne(()=>n.panes,()=>a.update(),{flush:"post",deep:!0}),()=>{const I=f.value?[v("span",{class:[i.e("nav-prev"),i.is("disabled",!f.value.prev)],onClick:p},[v(oe,null,{default:()=>[v(zn,null,null)]})]),v("span",{class:[i.e("nav-next"),i.is("disabled",!f.value.next)],onClick:b},[v(oe,null,{default:()=>[v(Wn,null,null)]})])]:null,D=n.panes.map((C,j)=>{var U,X,se,ae;const K=C.uid,he=C.props.disabled,Pe=(X=(U=C.props.name)!=null?U:C.index)!=null?X:`${j}`,Ne=!he&&(C.isClosable||n.editable);C.index=`${j}`;const Ce=Ne?v(oe,{class:"is-icon-close",onClick:fe=>t("tabRemove",C,fe)},{default:()=>[v(on,null,null)]}):null,Be=((ae=(se=C.slots).label)==null?void 0:ae.call(se))||C.props.label,me=!he&&C.active?0:-1;return v("div",{ref:`tab-${K}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",C.active),i.is("disabled",he),i.is("closable",Ne),i.is("focus",$.value)],id:`tab-${Pe}`,key:`tab-${K}`,"aria-controls":`pane-${Pe}`,role:"tab","aria-selected":C.active,tabindex:me,onFocus:()=>N(),onBlur:()=>B(),onClick:fe=>{B(),t("tabClick",C,Pe,fe)},onKeydown:fe=>{Ne&&(fe.code===Ye.delete||fe.code===Ye.backspace)&&t("tabRemove",C,fe)}},[Be,Ce])});return v("div",{ref:g,class:[i.e("nav-wrap"),i.is("scrollable",!!f.value),i.is(r.props.tabPosition)]},[I,v("div",{class:i.e("nav-scroll"),ref:d},[v("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:w,style:m.value,role:"tablist",onKeydown:P},[n.type?null:v(Zr,{ref:y,tabs:[...n.panes]},null),D])])])}}}),es=de({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:xe(Function),default:()=>!0},stretch:Boolean}),gt=n=>Se(n)||ke(n),ts={[Qe]:n=>gt(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>gt(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>gt(n),tabAdd:()=>!0};var ns=Q({name:"ElTabs",props:es,emits:ts,setup(n,{emit:e,slots:t,expose:a}){var r,i;const l=pe("tabs"),{children:o,addChild:d,removeChild:w}=Ca(Ke(),"ElTabPane"),g=V(),y=V((i=(r=n.modelValue)!=null?r:n.activeName)!=null?i:"0"),f=m=>{y.value=m,e(Qe,m),e("tabChange",m)},k=async m=>{var p,b,T;if(!(y.value===m||Rt(m)))try{await((p=n.beforeLeave)==null?void 0:p.call(n,m,y.value))!==!1&&(f(m),(T=(b=g.value)==null?void 0:b.removeFocus)==null||T.call(b))}catch{}},$=(m,p,b)=>{m.props.disabled||(k(p),e("tabClick",m,b))},h=(m,p)=>{m.props.disabled||Rt(m.props.name)||(p.stopPropagation(),e("edit",m.props.name,"remove"),e("tabRemove",m.props.name))},_=()=>{e("edit",void 0,"add"),e("tabAdd")};return un({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},E(()=>!!n.activeName)),ne(()=>n.activeName,m=>k(m)),ne(()=>n.modelValue,m=>k(m)),ne(y,async()=>{var m;await Ue(),(m=g.value)==null||m.scrollToActiveTab()}),ot(dt,{props:n,currentName:y,registerPane:d,unregisterPane:w}),a({currentName:y}),()=>{const m=n.editable||n.addable?v("span",{class:l.e("new-tab"),tabindex:"0",onClick:_,onKeydown:T=>{T.code===Ye.enter&&_()}},[v(oe,{class:l.is("icon-plus")},{default:()=>[v(jn,null,null)]})]):null,p=v("div",{class:[l.e("header"),l.is(n.tabPosition)]},[m,v(Qr,{ref:g,currentName:y.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:$,onTabRemove:h},null)]),b=v("div",{class:l.e("content")},[ce(t,"default")]);return v("div",{class:[l.b(),l.m(n.tabPosition),{[l.m("card")]:n.type==="card",[l.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[p,b]:[b,p]])}}});const as=de({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),rs=["id","aria-hidden","aria-labelledby"],gn="ElTabPane",ss=Q({name:gn}),ls=Q({...ss,props:as,setup(n){const e=n,t=Ke(),a=sn(),r=Fe(dt);r||tt(gn,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=pe("tab-pane"),l=V(),o=E(()=>e.closable||r.props.closable),d=Mt(()=>{var k;return r.currentName.value===((k=e.name)!=null?k:l.value)}),w=V(d.value),g=E(()=>{var k;return(k=e.name)!=null?k:l.value}),y=Mt(()=>!e.lazy||w.value||d.value);ne(d,k=>{k&&(w.value=!0)});const f=ze({uid:t.uid,slots:a,props:e,paneName:g,active:d,index:l,isClosable:o});return qe(()=>{r.registerPane(f)}),Un(()=>{r.unregisterPane(f.uid)}),(k,$)=>s(y)?Ot((F(),J("div",{key:0,id:`pane-${s(g)}`,class:q(s(i).b()),role:"tabpanel","aria-hidden":!s(d),"aria-labelledby":`tab-${s(g)}`},[ce(k.$slots,"default")],10,rs)),[[Vt,s(d)]]):G("v-if",!0)}});var yn=be(ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const is=De(ns,{TabPane:yn}),os=$t(yn),us=de({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Pt,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),cs=Q({name:"ElText"}),ds=Q({...cs,props:us,setup(n){const e=n,t=ct(),a=pe("text"),r=E(()=>[a.b(),a.m(e.type),a.m(t.value),a.is("truncated",e.truncated)]);return(i,l)=>(F(),H(Ve(i.tag),{class:q(s(r))},{default:x(()=>[ce(i.$slots,"default")]),_:3},8,["class"]))}});var fs=be(ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const ps=De(fs),bn=["success","info","warning","error"],ie=qt({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:dn?document.body:void 0}),vs=de({customClass:{type:String,default:ie.customClass},center:{type:Boolean,default:ie.center},dangerouslyUseHTMLString:{type:Boolean,default:ie.dangerouslyUseHTMLString},duration:{type:Number,default:ie.duration},icon:{type:it,default:ie.icon},id:{type:String,default:ie.id},message:{type:xe([String,Object,Function]),default:ie.message},onClose:{type:xe(Function),required:!1},showClose:{type:Boolean,default:ie.showClose},type:{type:String,values:bn,default:ie.type},offset:{type:Number,default:ie.offset},zIndex:{type:Number,default:ie.zIndex},grouping:{type:Boolean,default:ie.grouping},repeatNum:{type:Number,default:ie.repeatNum}}),ms={destroy:()=>!0},ve=Dn([]),gs=n=>{const e=ve.findIndex(r=>r.id===n),t=ve[e];let a;return e>0&&(a=ve[e-1]),{current:t,prev:a}},ys=n=>{const{prev:e}=gs(n);return e?e.vm.exposed.bottom.value:0},bs=(n,e)=>ve.findIndex(a=>a.id===n)>0?20:e,hs=["id"],ws=["innerHTML"],_s=Q({name:"ElMessage"}),Ss=Q({..._s,props:vs,emits:ms,setup(n,{expose:e}){const t=n,{Close:a}=Hn,{ns:r,zIndex:i}=Kn("message"),{currentZIndex:l,nextZIndex:o}=i,d=V(),w=V(!1),g=V(0);let y;const f=E(()=>t.type?t.type==="error"?"danger":t.type:"info"),k=E(()=>{const N=t.type;return{[r.bm("icon",N)]:N&&zt[N]}}),$=E(()=>t.icon||zt[t.type]||""),h=E(()=>ys(t.id)),_=E(()=>bs(t.id,t.offset)+h.value),m=E(()=>g.value+_.value),p=E(()=>({top:`${_.value}px`,zIndex:l.value}));function b(){t.duration!==0&&({stop:y}=Yn(()=>{c()},t.duration))}function T(){y?.()}function c(){w.value=!1}function P({code:N}){N===Ye.esc&&c()}return qe(()=>{b(),o(),w.value=!0}),ne(()=>t.repeatNum,()=>{T(),b()}),Gn(document,"keydown",P),ut(d,()=>{g.value=d.value.getBoundingClientRect().height}),e({visible:w,bottom:m,close:c}),(N,B)=>(F(),H(ln,{name:s(r).b("fade"),onBeforeLeave:N.onClose,onAfterLeave:B[0]||(B[0]=I=>N.$emit("destroy")),persisted:""},{default:x(()=>[Ot(Z("div",{id:N.id,ref_key:"messageRef",ref:d,class:q([s(r).b(),{[s(r).m(N.type)]:N.type&&!N.icon},s(r).is("center",N.center),s(r).is("closable",N.showClose),N.customClass]),style:Te(s(p)),role:"alert",onMouseenter:T,onMouseleave:b},[N.repeatNum>1?(F(),H(s(Cr),{key:0,value:N.repeatNum,type:s(f),class:q(s(r).e("badge"))},null,8,["value","type","class"])):G("v-if",!0),s($)?(F(),H(s(oe),{key:1,class:q([s(r).e("icon"),s(k)])},{default:x(()=>[(F(),H(Ve(s($))))]),_:1},8,["class"])):G("v-if",!0),ce(N.$slots,"default",{},()=>[N.dangerouslyUseHTMLString?(F(),J(He,{key:1},[G(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:q(s(r).e("content")),innerHTML:N.message},null,10,ws)],2112)):(F(),J("p",{key:0,class:q(s(r).e("content"))},L(N.message),3))]),N.showClose?(F(),H(s(oe),{key:2,class:q(s(r).e("closeBtn")),onClick:cn(c,["stop"])},{default:x(()=>[v(s(a))]),_:1},8,["class","onClick"])):G("v-if",!0)],46,hs),[[Vt,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ks=be(Ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let xs=1;const hn=n=>{const e=!n||Se(n)||Tt(n)||Je(n)?{message:n}:n,t={...ie,...e};if(!t.appendTo)t.appendTo=document.body;else if(Se(t.appendTo)){let a=document.querySelector(t.appendTo);Zn(a)||(a=document.body),t.appendTo=a}return t},Cs=n=>{const e=ve.indexOf(n);if(e===-1)return;ve.splice(e,1);const{handler:t}=n;t.close()},Es=({appendTo:n,...e},t)=>{const a=`message_${xs++}`,r=e.onClose,i=document.createElement("div"),l={...e,id:a,onClose:()=>{r?.(),Cs(g)},onDestroy:()=>{jt(null,i)}},o=v(ks,l,Je(l.message)||Tt(l.message)?{default:Je(l.message)?l.message:()=>l.message}:null);o.appContext=t||We._context,jt(o,i),n.appendChild(i.firstElementChild);const d=o.component,g={id:a,vnode:o,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:o.component.props};return g},We=(n={},e)=>{if(!dn)return{close:()=>{}};if(ke(Wt.max)&&ve.length>=Wt.max)return{close:()=>{}};const t=hn(n);if(t.grouping&&ve.length){const r=ve.find(({vnode:i})=>{var l;return((l=i.props)==null?void 0:l.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}const a=Es(t,e);return ve.push(a),a.handler};bn.forEach(n=>{We[n]=(e={},t)=>{const a=hn(e);return We({...a,type:n},t)}});function Fs(n){for(const e of ve)(!n||n===e.props.type)&&e.handler.close()}We.closeAll=Fs;We._context=null;const en=Jn(We,"$message");const Ts="/torrents/assets/main-5847766a.wasm";let wn=async function(n){const e=await crypto.subtle.digest("SHA-1",n);return new Uint8Array(e)};if(typeof WebAssembly<"u"){console.log("wasm enabled");const n=new Go,e=await WebAssembly.instantiateStreaming(fetch(Ts),n.importObject);console.log(e),n.run(e.instance),wn=async t=>{const a=new Uint8Array(20);return go_sha1(t,a)}}const tn=new Map;async function Ps(n,e,t,a,r){const i=n.reduce((f,k)=>f+k.size,0),l=n.map(f=>f.uid).join("|")+t,o=tn.get(l);if(o)return r({current:i,total:i,version:a,workerCount:je.length,buzyWorker:Me,waitingTask:Re.length}),o;const d=await Ns(n,e,t,i,a,r),w=d.reduce((f,k)=>f+k.byteLength,0),g=new Uint8Array(w);let y=0;for(const f of d)g.set(f,y),y+=f.byteLength;return tn.set(l,g),g}let Re=[];async function Ns(n,e,t,a,r,i){const l=[];let o=0,d=0,w=0;return Re=[],await new Promise(async(g,y)=>{for await(let f of Bs(n,a,e,t))if(f){if(d+=f.byteLength,!i({current:d,total:a,version:r,workerCount:je.length,buzyWorker:Me,waitingTask:Re.length}))return y(new Error("Canceled"));await $s(r,o++,f,(k,$,h,_)=>{if(r!==k)throw new Error("Canceled");l[$]=_,w+=h,w===a&&g()})}}),i({current:d,total:a,version:r,workerCount:je.length,buzyWorker:Me,waitingTask:Re.length}),l}function Bs(n,e,t,a){t<a&&(t=a);const r=n.length;let i=0,l=0;const o=async()=>{let y=await n[i].slice(l,l+t).arrayBuffer(),f=y.byteLength;for(l+=f;f<t&&i+1<r&&(i++,l=0,!(i>=r));){const k=t-f,$=await n[i].slice(l,l+k).arrayBuffer(),h=$.byteLength;f+=h,l+=h;const _=new Uint8Array(f);_.set(new Uint8Array(y)),_.set(new Uint8Array($),y.byteLength),y=_}return y};let d=null,w=0,g=0;return{[Symbol.asyncIterator](){return{async next(){if(g==e)return{done:!0};d==null&&(d=await o());const y=d.slice(w,w+a);let f=y.byteLength;if(w+=f,g+=f,f==a)return{done:!1,value:y};if(d.byteLength<t)return{done:!1,value:y};d=await o(),w=0;const k=a-f,$=d.slice(w,w+k),h=$.byteLength;w+=h,g+=h;const _=new Uint8Array(f+h);return _.set(new Uint8Array(y)),_.set(new Uint8Array($),f),{done:!1,value:_}}}}}}const je=Os();async function $s(n,e,t,a){return new Promise(r=>{if(location.search.includes("sha1=fake")){a(n,e,t.byteLength,new Uint8Array(20)),r();return}je.length>0?(r(),_n(n,e,t,a)):wn(t).then(i=>{a(n,e,t.byteLength,i),r()})})}function Os(){let n=[];try{const e=Math.min(navigator.hardwareConcurrency||1,8);for(let t=0;t<e;t++)n.push(new Worker(new URL("/torrents/assets/worker-9b7c452f.js",self.location)))}catch(e){console.log("init worker error",e),n=[]}return console.log("workes length",n.length,n),n}const Me=new Set;let yt=0;function _n(n,e,t,a){let r=null,i=-1;for(let d=0;d<je.length;d++)if(!Me.has(d)){Me.add(d),i=d,r=je[d];break}i>yt&&(yt=i,console.log("maxWorkerIndex=",yt));const l={version:n,workerIndex:i,pieceIndex:e,pieceData:t},o=new Date().getTime();r!=null?(r.postMessage(l),r.onmessage=d=>{const w=d.data;new Date().getTime()-o,a(w.version,w.pieceIndex,w.pieceLengh,w.pieceHash),Me.delete(w.workerIndex);const g=Re.shift();g&&_n(g.req.version,g.req.pieceIndex,g.req.pieceData,g.callback)}):Re.push({req:l,callback:a})}function _e(n){return n<1024?te("{0} B",n):n<1024*1024?te("{0} KB",(n/1024).toFixed(2)):n<1024*1024*1024?te("{0} MB",(n/1024/1024).toFixed(2)):n<1024*1024*1024*1024?te("{0} GB",(n/1024/1024/1024).toFixed(2)):te("{0} TB",(n/1024/1024/1024/1024).toFixed(2))}const Sn=n=>(la("data-v-8090e00f"),n=n(),ia(),n),Vs={class:"flex justify-around"},qs={key:0},As=Sn(()=>Z("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),Is={class:"el-upload__text"},Ls={key:1},Rs=Sn(()=>Z("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),Ms={class:"el-upload__text"},zs={class:"el-upload__tip"},Ws={class:"flex justify-between"},js={class:"flex justify-between"},Us={class:"flex flex-wrap gap-4"},Ds={class:"flex justify-between"},Ks=Q({__name:"CreateView",setup(n){const e=["type","add_file","settings","generate"],r=V(0),i=E({get:()=>e[r.value],set:O=>{const u=e.indexOf(O);u>=0&&(r.value=u)}}),l=V(!1),o=V("webkitdirectory"in document.createElement("input")),d=O=>{if(l.value=O,r.value=1,y.value.clearFiles(),o){const u=document.querySelector(".el-upload__input");u&&(u.webkitdirectory=!O)}};ne(o,O=>{if(!l.value){const u=document.querySelector(".el-upload__input");u&&(u.webkitdirectory=O)}});const w=S("Your broswer does not support select folder, please select files one by one. (All files should be on the same folder.)"),g=E(()=>r.value>0?l.value?$e("desc","Single File"):$e("desc","Folder"):""),y=V(),f=V([]),k=O=>{y.value.clearFiles();const u=O[0];y.value.handleStart(u)};function $(){r.value=2,p.folderName=h()}function h(){if(o&&f.value.length>0){const O=f.value[0].raw?.webkitRelativePath;if(O)return O.split("/")[0]}return""}function _(O){const u=O.raw?.webkitRelativePath;return u||O.name}const m=E(()=>{if(r.value<1)return"";if(l.value){let O=f.value[0]?.name;return O&&O.length>40&&(O=O.substring(0,18)+"..."+O.substring(O.length-18)),O}else if(f.value.length>0)return te(S("{0} Files"),f.value.length);return""}),p=ze({folderName:"",pieceSize:0,readBlockSize:16777216,isPrivate:!1,setCreation:!0,trackers:"",webSeeds:"",comment:"",source:""}),b=O=>{f.value.splice(O,1)},T=E(()=>{if(r.value<=2)return"";let O="";if(l){const u=f.value[0].size;O+=_e(u),p.isPrivate?O=te($e("settings desc","PT ({0})"),_e(u)):O=te($e("settings desc","BT ({0})"),_e(u))}return O}),c=()=>{if(!l.value&&!o&&p.folderName==="")return P(S("Folder name can not be empty."));if(p.trackers!==""){const O=p.trackers.trim().split(/\s+/g);for(let u of O)try{new URL(u)}catch{return P(te(S("invalid tracker URL: {0}"),u))}}r.value++,Pe()};function P(O){ma.error({title:S("Error"),message:O})}const N=V(!1),B=ze({pct:0,status:"",workerCount:0,waitingTask:0,buzyWorker:[]}),I=V(0),D=E(()=>N.value?te(S("done ({0})"),at(I.value)):""),C=V({announce:"","announce-list":[],"created by":"https://pub-go.github.io/torrents/",info:{name:"","piece length":0,pieces:new Uint8Array}}),j=V(),U=V(""),X=V(""),se=E(()=>f.value.reduce((O,u)=>O+u.size,0)),ae=E(()=>p.pieceSize!==0?p.pieceSize:Ce(se.value)),K=V(0),he=V(0),Pe=async()=>{N.value=!1,me.value=!1,B.pct=0,B.status="",B.workerCount=0,B.waitingTask=0,B.buzyWorker=[];const O=new Date().getTime();if(K.value=0,he.value=0,X.value=O+"",p.trackers){const A=p.trackers.trim().split(/\s+/g);C.value.announce=A[0],C.value["announce-list"]=A.map(W=>[W])}else delete C.value.announce,delete C.value["announce-list"];p.setCreation?C.value["creation date"]=new Date().getTime()/1e3|0:delete C.value["creation date"],p.comment?C.value.comment=p.comment:delete C.value.comment;const u=p.webSeeds.split(/\s+/g);p.webSeeds?C.value["url-list"]=u:delete C.value["url-list"];const R=Ne();C.value.info.name=R,j.value.download=R+".torrent",p.pieceSize?C.value.info["piece length"]=p.pieceSize:C.value.info["piece length"]=Ce(se.value),l.value?C.value.info.length=f.value[0].size:C.value.info.files=f.value.map(A=>({length:A.size,path:_(A).split("/")}));try{C.value.info.pieces=await Ps(f.value.map(A=>A.raw),p.readBlockSize,C.value.info["piece length"],X.value,A=>(K.value=new Date().getTime()-O,he.value=Ut(K.value*(A.total-A.current)/A.current,0),B.pct=Ut(100*A.current/A.total,2),A.current===A.total&&(B.status="success"),B.workerCount=A.workerCount,B.waitingTask=A.waitingTask,B.buzyWorker=Array.from(A.buzyWorker).sort(),A.version==X.value))}catch{en.info({message:S("task canceled.")});return}I.value=new Date().getTime()-O,en.success({message:te(S("Generate torrent file success. ({0})"),at(I.value))}),N.value=!0,URL.revokeObjectURL(U.value),U.value=URL.createObjectURL(new Blob([Dt(C.value).Encode()])),j.value.href=U.value};function Ne(){return l.value?f.value[0].name:p.folderName}function Ce(O){let u=Math.round(Math.log(O/1200)/Math.log(2));return u<14?u=14:u>24&&(u=24),1<<u}const Be=()=>{r.value=e.length,j.value.click()},me=V(!1),fe=V(new ga({})),ft=()=>{me.value=!me.value,fe.value=Dt(C.value)};return(O,u)=>{const R=qr,A=Vr,W=ya,le=os,we=ba,ge=ps,Ae=ha,ye=hr,ee=wa,At=_a,pt=aa,kn=ra,It=Kr,xn=br,Cn=Sa,En=is,Fn=Xn;return F(),H(Fn,{class:"is-vertical"},{default:x(()=>[v(A,{class:"w100%",active:r.value,"finish-status":"success"},{default:x(()=>[v(R,{title:s(S)("Select Type"),description:s(g)},null,8,["title","description"]),v(R,{title:s(S)("Add File"),description:s(m)},null,8,["title","description"]),v(R,{title:s(S)("Settings"),description:s(T)},null,8,["title","description"]),v(R,{title:s(S)("Generate"),description:s(D)},null,8,["title","description"])]),_:1},8,["active"]),v(En,{modelValue:s(i),"onUpdate:modelValue":u[19]||(u[19]=M=>na(i)?i.value=M:null)},{default:x(()=>[v(le,{name:e[0],label:s(S)("Select Type")},{default:x(()=>[Z("div",Vs,[v(W,{type:"primary",onClick:u[0]||(u[0]=M=>d(!0))},{default:x(()=>[Y(L(s($e)("btn","Single File")),1)]),_:1}),v(W,{type:"primary",onClick:u[1]||(u[1]=M=>d(!1))},{default:x(()=>[Y(L(s($e)("btn","Folder")),1)]),_:1})])]),_:1},8,["name","label"]),v(le,{name:e[1],label:s(S)("Add File")},{default:x(()=>[l.value?(F(),J("div",qs,[v(we,{ref_key:"uploadRef",ref:y,drag:"","auto-upload":!1,"file-list":f.value,"onUpdate:fileList":u[2]||(u[2]=M=>f.value=M),limit:1,"on-exceed":k},{default:x(()=>[As,Z("div",Is,L(s(S)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])):(F(),J("div",Ls,[v(we,{ref_key:"uploadRef",ref:y,drag:"","auto-upload":!1,"file-list":f.value,"onUpdate:fileList":u[3]||(u[3]=M=>f.value=M),multiple:""},{tip:x(()=>[Z("div",zs,L(o.value?s(S)("Plsease select a folder."):s(w)),1)]),default:x(()=>[Rs,Z("div",Ms,L(s(S)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])),Z("div",Ws,[v(W,{onClick:u[4]||(u[4]=M=>r.value--)},{default:x(()=>[Y(L(s(S)("Previous Step")),1)]),_:1}),l.value?G("",!0):(F(),H(W,{key:0,onClick:u[5]||(u[5]=M=>o.value=!o.value)},{default:x(()=>[o.value?(F(),J(He,{key:0},[Y(L(s(S)("Can not upload a folder?")),1)],64)):G("",!0),o.value?G("",!0):(F(),J(He,{key:1},[Y(L(s(S)("Try upload a folder")),1)],64))]),_:1})),f.value.length>0?(F(),H(W,{key:1,onClick:u[6]||(u[6]=M=>y.value?.clearFiles())},{default:x(()=>[Y(L(s(S)("Clear Files")),1)]),_:1})):G("",!0),v(W,{disabled:f.value.length==0,type:"primary",onClick:$},{default:x(()=>[Y(L(s(S)("Next Step")),1)]),_:1},8,["disabled"])])]),_:1},8,["name","label"]),v(le,{name:e[2],label:s(S)("Settings")},{default:x(()=>[Z("div",null,[v(xn,{model:p,"label-width":"120px"},{default:x(()=>[l.value?G("",!0):(F(),H(ye,{key:0,label:s(S)("Folder Name")},{default:x(()=>[o.value?(F(),H(ge,{key:0},{default:x(()=>[Y(L(p.folderName),1)]),_:1})):(F(),H(Ae,{key:1,modelValue:p.folderName,"onUpdate:modelValue":u[7]||(u[7]=M=>p.folderName=M)},null,8,["modelValue"]))]),_:1},8,["label"])),v(ye,{label:s(S)("File List")},{default:x(()=>[Z("ul",null,[(F(!0),J(He,null,Qn(f.value,(M,Tn)=>(F(),J("li",null,[v(W,{icon:s(sa),onClick:Gs=>b(Tn)},null,8,["icon","onClick"]),Y(" "+L(s(te)(s($e)("file-size","{0} ({1})"),M.raw?.webkitRelativePath?M.raw?.webkitRelativePath:M.name,s(_e)(M.size))),1)]))),256))])]),_:1},8,["label"]),v(ye,{label:s(S)("Piece Size")},{default:x(()=>[v(At,{modelValue:p.pieceSize,"onUpdate:modelValue":u[8]||(u[8]=M=>p.pieceSize=M),class:"w100%"},{default:x(()=>[v(ee,{label:s(te)(s(S)("Auto ({0})"),s(_e)(Ce(s(se)))),value:0},null,8,["label"]),v(ee,{label:s(S)("16 KB"),value:16384},null,8,["label"]),v(ee,{label:s(S)("32 KB"),value:32768},null,8,["label"]),v(ee,{label:s(S)("64 KB"),value:65536},null,8,["label"]),v(ee,{label:s(S)("128 KB"),value:131072},null,8,["label"]),v(ee,{label:s(S)("256 KB"),value:262144},null,8,["label"]),v(ee,{label:s(S)("512 KB"),value:524288},null,8,["label"]),v(ee,{label:s(S)("1 MB"),value:1048576},null,8,["label"]),v(ee,{label:s(S)("2 MB"),value:2097152},null,8,["label"]),v(ee,{label:s(S)("4 MB"),value:4194304},null,8,["label"]),v(ee,{label:s(S)("8 MB"),value:8388608},null,8,["label"]),v(ee,{label:s(S)("16 MB"),value:16777216},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Read Block Size")},{default:x(()=>[v(kn,{class:"w100%"},{default:x(()=>[v(pt,{xs:24,sm:12,md:4},{default:x(()=>[v(At,{modelValue:p.readBlockSize,"onUpdate:modelValue":u[9]||(u[9]=M=>p.readBlockSize=M),class:"w100%"},{default:x(()=>[v(ee,{label:s(S)("16 KB"),value:16384},null,8,["label"]),v(ee,{label:s(S)("32 KB"),value:32768},null,8,["label"]),v(ee,{label:s(S)("64 KB"),value:65536},null,8,["label"]),v(ee,{label:s(S)("128 KB"),value:131072},null,8,["label"]),v(ee,{label:s(S)("256 KB"),value:262144},null,8,["label"]),v(ee,{label:s(S)("512 KB"),value:524288},null,8,["label"]),v(ee,{label:s(S)("1 MB"),value:1048576},null,8,["label"]),v(ee,{label:s(S)("2 MB"),value:2097152},null,8,["label"]),v(ee,{label:s(S)("4 MB"),value:4194304},null,8,["label"]),v(ee,{label:s(S)("8 MB"),value:8388608},null,8,["label"]),v(ee,{label:s(S)("16 MB"),value:16777216},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),v(pt,{xs:24,sm:12,md:8,lg:6},{default:x(()=>[v(Ae,{modelValue:p.readBlockSize,"onUpdate:modelValue":u[10]||(u[10]=M=>p.readBlockSize=M),type:"number"},{append:x(()=>[Y(L(s(te)(s(S)("Bytes / {0}"),s(_e)(p.readBlockSize))),1)]),_:1},8,["modelValue"])]),_:1}),v(pt,{xs:24,sm:24,md:24,lg:14},{default:x(()=>[v(ge,null,{default:x(()=>[Y(L(s(S)("read file by block: set block size larger to make reading faster (and cost more memory).")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["label"]),v(ye,{label:s(S)("Is Private")},{default:x(()=>[v(It,{modelValue:p.isPrivate,"onUpdate:modelValue":u[11]||(u[11]=M=>p.isPrivate=M)},null,8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Creation Date")},{default:x(()=>[v(It,{modelValue:p.setCreation,"onUpdate:modelValue":u[12]||(u[12]=M=>p.setCreation=M)},null,8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Trackers")},{default:x(()=>[v(Ae,{modelValue:p.trackers,"onUpdate:modelValue":u[13]||(u[13]=M=>p.trackers=M),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Web Seeds")},{default:x(()=>[v(Ae,{modelValue:p.webSeeds,"onUpdate:modelValue":u[14]||(u[14]=M=>p.webSeeds=M),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Comment")},{default:x(()=>[v(Ae,{modelValue:p.comment,"onUpdate:modelValue":u[15]||(u[15]=M=>p.comment=M),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),v(ye,{label:s(S)("Source")},{default:x(()=>[v(Ae,{modelValue:p.source,"onUpdate:modelValue":u[16]||(u[16]=M=>p.source=M)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"]),Z("div",js,[v(W,{onClick:u[17]||(u[17]=M=>r.value--)},{default:x(()=>[Y(L(s(S)("Previous Step")),1)]),_:1}),v(W,{type:"primary",disabled:f.value.length==0,onClick:c},{default:x(()=>[Y(L(s(S)("Next Step")),1)]),_:1},8,["disabled"])])])]),_:1},8,["name","label"]),v(le,{name:e[3],label:s(S)("Generate")},{default:x(()=>[v(Cn,{percentage:B.pct,status:B.status,"text-inside":!0,"stroke-width":26,class:"mb-4",striped:B.pct<100,"striped-flow":B.pct<100},null,8,["percentage","status","striped","striped-flow"]),Z("div",Us,[v(ge,null,{default:x(()=>[Y(L(s(te)(s(S)("Total Size: {0} Bytes / {1}"),s(se),s(_e)(s(se)))),1)]),_:1}),v(ge,null,{default:x(()=>[Y(L(s(te)(s(S)("Piece Size: {0} Bytes / {1}"),s(ae),s(_e)(s(ae)))),1)]),_:1}),v(ge,null,{default:x(()=>[Y(L(s(te)(s(S)("Block Size: {0} Bytes / {1}"),p.readBlockSize,s(_e)(p.readBlockSize))),1)]),_:1}),v(ge,null,{default:x(()=>[Y(L(s(te)(s(S)("Spend: {0}"),s(at)(K.value))),1)]),_:1}),v(ge,null,{default:x(()=>[Y(L(s(te)(s(S)("Remaining: ~ {0}"),s(at)(he.value))),1)]),_:1}),B.workerCount?(F(),H(ge,{key:0},{default:x(()=>[Y(L(s(te)(s(S)("Worker Count: {0}"),B.workerCount)),1)]),_:1})):G("",!0),B.buzyWorker.length>0?(F(),H(ge,{key:1},{default:x(()=>[Y(L(s(te)(s(S)("Buzy Workers: [{0}]"),B.buzyWorker)),1)]),_:1})):G("",!0),B.waitingTask?(F(),H(ge,{key:2},{default:x(()=>[Y(L(s(te)(s(S)("Waiting Task: {0}"),B.waitingTask)),1)]),_:1})):G("",!0)]),Z("div",Ds,[v(W,{onClick:u[18]||(u[18]=M=>{r.value=2,N.value=!1,X.value=""})},{default:x(()=>[Y(L(s(S)("Previous Step")),1)]),_:1}),v(W,{disabled:!N.value,type:"info",icon:me.value?s(ea):s(ta),onClick:ft},{default:x(()=>[Y(L(s(S)("Preview")),1)]),_:1},8,["disabled","icon"]),Z("a",{ref_key:"downloadLink",ref:j,class:"hidden",id:"download"},L(s(S)("Download")),513),v(W,{disabled:!N.value,type:"primary",onClick:Be},{default:x(()=>[Y(L(s(S)("Download")),1)]),_:1},8,["disabled"])]),me.value?(F(),H(va,{key:0,data:fe.value,name:`${C.value.info.name}.torrent`},null,8,["data","name"])):G("",!0)]),_:1},8,["name","label"])]),_:1},8,["modelValue"])]),_:1})}}});const Zs=oa(Ks,[["__scopeId","data-v-8090e00f"]]);export{Zs as default};
