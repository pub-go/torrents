import{i as _n,s as Sn,f as xn,a as wt,b as ve,c as _t,d as Se,e as En,g as we,h as qe,r as O,j as F,k as J,u as ge,w as ae,l as Ht,p as et,m as Ve,t as Yt,n as St,o as N,q as Y,v as pe,x as B,y as l,_ as be,z as Ue,A as Fe,B as ot,C as Ge,D as $e,E as xt,F as Zt,G as tt,H as y,I as Et,J as Ie,K as Jt,L as Fn,M as Cn,N as ut,O as st,P as $,Q as Z,R as Ne,S as Ce,T as oe,U as D,V as X,W as K,X as kn,Y as Le,Z as Ft,$ as _e,a0 as Ct,a1 as kt,a2 as Xt,a3 as Qe,a4 as Re,a5 as de,a6 as Tn,a7 as Qt,a8 as en,a9 as Pn,aa as Nn,ab as tn,ac as Nt,ad as Tt,ae as $n,af as On,ag as Bn,ah as qn,ai as je,aj as Vn,ak as $t,al as Ot,am as An,an as nn,ao as In,ap as Ln,aq as Bt,ar as Rn,as as Mn,at as jn,au as qt,av as Vt,aw as zn,ax as Un,ay as ct,az as me,aA as P,aB as Te,aC as Wn,aD as Dn,aE as Kn,aF as Gn,aG as Hn,aH as Yn,aI as Zn,aJ as Jn,aK as Xn,aL as Qn}from"./index-38749541.js";import{b as ea,u as nt,C as We,i as ta,U as De,I as dt,a as na,c as aa,d as sa,e as Ee,_ as ra,E as ia,t as At,B as la,f as oa,g as ua,h as ca,j as da,k as fa,l as pa}from"./DictEdit.vue_vue_type_script_setup_true_lang-6663e408.js";function ft(){if(!arguments.length)return[];var n=arguments[0];return _n(n)?n:[n]}var va=4;function It(n){return ea(n,va)}const ma=(n,e,t)=>xn(n.subTree).filter(i=>{var r;return wt(i)&&((r=i.type)==null?void 0:r.name)===e&&!!i.component}).map(i=>i.component.uid).map(i=>t[i]).filter(i=>!!i),ga=(n,e)=>{const t={},a=Sn([]);return{children:a,addChild:r=>{t[r.uid]=r,a.value=ma(n,e,t)},removeChild:r=>{delete t[r],a.value=a.value.filter(o=>o.uid!==r)}}},ya=ve({size:{type:String,values:_t},disabled:Boolean}),ha=ve({...ya,model:Object,rules:{type:Se(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),ba={validate:(n,e,t)=>(En(n)||we(n))&&qe(e)&&we(t)};function wa(){const n=O([]),e=F(()=>{if(!n.value.length)return"0";const i=Math.max(...n.value);return i?`${i}px`:""});function t(i){const r=n.value.indexOf(i);return r===-1&&e.value,r}function a(i,r){if(i&&r){const o=t(r);n.value.splice(o,1,i)}else i&&n.value.push(i)}function s(i){const r=t(i);r>-1&&n.value.splice(r,1)}return{autoLabelWidth:e,registerLabelWidth:a,deregisterLabelWidth:s}}const Ye=(n,e)=>{const t=ft(e);return t.length>0?n.filter(a=>a.prop&&t.includes(a.prop)):n},_a="ElForm",Sa=J({name:_a}),xa=J({...Sa,props:ha,emits:ba,setup(n,{expose:e,emit:t}){const a=n,s=[],i=nt(),r=ge("form"),o=F(()=>{const{labelPosition:f,inline:g}=a;return[r.b(),r.m(i.value||"default"),{[r.m(`label-${f}`)]:f,[r.m("inline")]:g}]}),c=f=>{s.push(f)},b=f=>{f.prop&&s.splice(s.indexOf(f),1)},p=(f=[])=>{a.model&&Ye(s,f).forEach(g=>g.resetField())},m=(f=[])=>{Ye(s,f).forEach(g=>g.clearValidate())},v=F(()=>!!a.model),S=f=>{if(s.length===0)return[];const g=Ye(s,f);return g.length?g:[]},V=async f=>w(void 0,f),h=async(f=[])=>{if(!v.value)return!1;const g=S(f);if(g.length===0)return!0;let C={};for(const u of g)try{await u.validate("")}catch(k){C={...C,...k}}return Object.keys(C).length===0?!0:Promise.reject(C)},w=async(f=[],g)=>{const C=!Ue(g);try{const u=await h(f);return u===!0&&g?.(u),u}catch(u){if(u instanceof Error)throw u;const k=u;return a.scrollToError&&d(Object.keys(k)[0]),g?.(!1,k),C&&Promise.reject(k)}},d=f=>{var g;const C=Ye(s,f)[0];C&&((g=C.$el)==null||g.scrollIntoView(a.scrollIntoViewOptions))};return ae(()=>a.rules,()=>{a.validateOnRuleChange&&V().catch(f=>Ht())},{deep:!0}),et(St,Ve({...Yt(a),emit:t,resetFields:p,clearValidate:m,validateField:w,addField:c,removeField:b,...wa()})),e({validate:V,validateField:w,resetFields:p,clearValidate:m,scrollToField:d}),(f,g)=>(N(),Y("form",{class:B(l(o))},[pe(f.$slots,"default")],2))}});var Ea=be(xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Pe(){return Pe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Pe.apply(this,arguments)}function Fa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ke(n,e)}function pt(n){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(n)}function Ke(n,e){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ke(n,e)}function Ca(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xe(n,e,t){return Ca()?Xe=Reflect.construct.bind():Xe=function(s,i,r){var o=[null];o.push.apply(o,i);var c=Function.bind.apply(s,o),b=new c;return r&&Ke(b,r.prototype),b},Xe.apply(null,arguments)}function ka(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function vt(n){var e=typeof Map=="function"?new Map:void 0;return vt=function(a){if(a===null||!ka(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(a))return e.get(a);e.set(a,s)}function s(){return Xe(a,arguments,pt(this).constructor)}return s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Ke(s,a)},vt(n)}var Ta=/%[sdj%]/g,Pa=function(){};typeof process<"u"&&process.env;function mt(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var a=t.field;e[a]=e[a]||[],e[a].push(t)}),e}function fe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];var s=0,i=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var r=n.replace(Ta,function(o){if(o==="%%")return"%";if(s>=i)return o;switch(o){case"%s":return String(t[s++]);case"%d":return Number(t[s++]);case"%j":try{return JSON.stringify(t[s++])}catch{return"[Circular]"}break;default:return o}});return r}return n}function Na(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function se(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Na(e)&&typeof n=="string"&&!n)}function $a(n,e,t){var a=[],s=0,i=n.length;function r(o){a.push.apply(a,o||[]),s++,s===i&&t(a)}n.forEach(function(o){e(o,r)})}function Lt(n,e,t){var a=0,s=n.length;function i(r){if(r&&r.length){t(r);return}var o=a;a=a+1,o<s?e(n[o],i):t([])}i([])}function Oa(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var Rt=function(n){Fa(e,n);function e(t,a){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=a,s}return e}(vt(Error));function Ba(n,e,t,a,s){if(e.first){var i=new Promise(function(v,S){var V=function(d){return a(d),d.length?S(new Rt(d,mt(d))):v(s)},h=Oa(n);Lt(h,t,V)});return i.catch(function(v){return v}),i}var r=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),c=o.length,b=0,p=[],m=new Promise(function(v,S){var V=function(w){if(p.push.apply(p,w),b++,b===c)return a(p),p.length?S(new Rt(p,mt(p))):v(s)};o.length||(a(p),v(s)),o.forEach(function(h){var w=n[h];r.indexOf(h)!==-1?Lt(w,t,V):$a(w,t,V)})});return m.catch(function(v){return v}),m}function qa(n){return!!(n&&n.message!==void 0)}function Va(n,e){for(var t=n,a=0;a<e.length;a++){if(t==null)return t;t=t[e[a]]}return t}function Mt(n,e){return function(t){var a;return n.fullFields?a=Va(e,n.fullFields):a=e[t.field||n.fullField],qa(t)?(t.field=t.field||n.fullField,t.fieldValue=a,t):{message:typeof t=="function"?t():t,fieldValue:a,field:t.field||n.fullField}}}function jt(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];typeof a=="object"&&typeof n[t]=="object"?n[t]=Pe({},n[t],a):n[t]=a}}return n}var an=function(e,t,a,s,i,r){e.required&&(!a.hasOwnProperty(e.field)||se(t,r||e.type))&&s.push(fe(i.messages.required,e.fullField))},Aa=function(e,t,a,s,i){(/^\s+$/.test(t)||t==="")&&s.push(fe(i.messages.whitespace,e.fullField))},Ze,Ia=function(){if(Ze)return Ze;var n="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+a+":){7}(?:"+a+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+a+":){6}(?:"+t+"|:"+a+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+a+":){5}(?::"+t+"|(?::"+a+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+a+":){4}(?:(?::"+a+"){0,1}:"+t+"|(?::"+a+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+a+":){3}(?:(?::"+a+"){0,2}:"+t+"|(?::"+a+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+a+":){2}(?:(?::"+a+"){0,3}:"+t+"|(?::"+a+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+a+":){1}(?:(?::"+a+"){0,4}:"+t+"|(?::"+a+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+a+"){0,5}:"+t+"|(?::"+a+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+t+"$)|(?:^"+s+"$)"),r=new RegExp("^"+t+"$"),o=new RegExp("^"+s+"$"),c=function(C){return C&&C.exact?i:new RegExp("(?:"+e(C)+t+e(C)+")|(?:"+e(C)+s+e(C)+")","g")};c.v4=function(g){return g&&g.exact?r:new RegExp(""+e(g)+t+e(g),"g")},c.v6=function(g){return g&&g.exact?o:new RegExp(""+e(g)+s+e(g),"g")};var b="(?:(?:[a-z]+:)?//)",p="(?:\\S+(?::\\S*)?@)?",m=c.v4().source,v=c.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",V="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",d='(?:[/?#][^\\s"]*)?',f="(?:"+b+"|www\\.)"+p+"(?:localhost|"+m+"|"+v+"|"+S+V+h+")"+w+d;return Ze=new RegExp("(?:^"+f+"$)","i"),Ze},zt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Me={integer:function(e){return Me.number(e)&&parseInt(e,10)===e},float:function(e){return Me.number(e)&&!Me.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Me.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(zt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ia())},hex:function(e){return typeof e=="string"&&!!e.match(zt.hex)}},La=function(e,t,a,s,i){if(e.required&&t===void 0){an(e,t,a,s,i);return}var r=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;r.indexOf(o)>-1?Me[o](t)||s.push(fe(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&s.push(fe(i.messages.types[o],e.fullField,e.type))},Ra=function(e,t,a,s,i){var r=typeof e.len=="number",o=typeof e.min=="number",c=typeof e.max=="number",b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=t,m=null,v=typeof t=="number",S=typeof t=="string",V=Array.isArray(t);if(v?m="number":S?m="string":V&&(m="array"),!m)return!1;V&&(p=t.length),S&&(p=t.replace(b,"_").length),r?p!==e.len&&s.push(fe(i.messages[m].len,e.fullField,e.len)):o&&!c&&p<e.min?s.push(fe(i.messages[m].min,e.fullField,e.min)):c&&!o&&p>e.max?s.push(fe(i.messages[m].max,e.fullField,e.max)):o&&c&&(p<e.min||p>e.max)&&s.push(fe(i.messages[m].range,e.fullField,e.min,e.max))},Be="enum",Ma=function(e,t,a,s,i){e[Be]=Array.isArray(e[Be])?e[Be]:[],e[Be].indexOf(t)===-1&&s.push(fe(i.messages[Be],e.fullField,e[Be].join(", ")))},ja=function(e,t,a,s,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||s.push(fe(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var r=new RegExp(e.pattern);r.test(t)||s.push(fe(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},I={required:an,whitespace:Aa,type:La,range:Ra,enum:Ma,pattern:ja},za=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t,"string")&&!e.required)return a();I.required(e,t,s,r,i,"string"),se(t,"string")||(I.type(e,t,s,r,i),I.range(e,t,s,r,i),I.pattern(e,t,s,r,i),e.whitespace===!0&&I.whitespace(e,t,s,r,i))}a(r)},Ua=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&I.type(e,t,s,r,i)}a(r)},Wa=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&(I.type(e,t,s,r,i),I.range(e,t,s,r,i))}a(r)},Da=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&I.type(e,t,s,r,i)}a(r)},Ka=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),se(t)||I.type(e,t,s,r,i)}a(r)},Ga=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&(I.type(e,t,s,r,i),I.range(e,t,s,r,i))}a(r)},Ha=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&(I.type(e,t,s,r,i),I.range(e,t,s,r,i))}a(r)},Ya=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return a();I.required(e,t,s,r,i,"array"),t!=null&&(I.type(e,t,s,r,i),I.range(e,t,s,r,i))}a(r)},Za=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&I.type(e,t,s,r,i)}a(r)},Ja="enum",Xa=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i),t!==void 0&&I[Ja](e,t,s,r,i)}a(r)},Qa=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t,"string")&&!e.required)return a();I.required(e,t,s,r,i),se(t,"string")||I.pattern(e,t,s,r,i)}a(r)},es=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t,"date")&&!e.required)return a();if(I.required(e,t,s,r,i),!se(t,"date")){var c;t instanceof Date?c=t:c=new Date(t),I.type(e,c,s,r,i),c&&I.range(e,c.getTime(),s,r,i)}}a(r)},ts=function(e,t,a,s,i){var r=[],o=Array.isArray(t)?"array":typeof t;I.required(e,t,s,r,i,o),a(r)},rt=function(e,t,a,s,i){var r=e.type,o=[],c=e.required||!e.required&&s.hasOwnProperty(e.field);if(c){if(se(t,r)&&!e.required)return a();I.required(e,t,s,o,i,r),se(t,r)||I.type(e,t,s,o,i)}a(o)},ns=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(se(t)&&!e.required)return a();I.required(e,t,s,r,i)}a(r)},ze={string:za,method:Ua,number:Wa,boolean:Da,regexp:Ka,integer:Ga,float:Ha,array:Ya,object:Za,enum:Xa,pattern:Qa,date:es,url:rt,hex:rt,email:rt,required:ts,any:ns};function gt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var yt=gt(),He=function(){function n(t){this.rules=null,this._messages=yt,this.define(t)}var e=n.prototype;return e.define=function(a){var s=this;if(!a)throw new Error("Cannot configure a schema with no rules");if(typeof a!="object"||Array.isArray(a))throw new Error("Rules must be an object");this.rules={},Object.keys(a).forEach(function(i){var r=a[i];s.rules[i]=Array.isArray(r)?r:[r]})},e.messages=function(a){return a&&(this._messages=jt(gt(),a)),this._messages},e.validate=function(a,s,i){var r=this;s===void 0&&(s={}),i===void 0&&(i=function(){});var o=a,c=s,b=i;if(typeof c=="function"&&(b=c,c={}),!this.rules||Object.keys(this.rules).length===0)return b&&b(null,o),Promise.resolve(o);function p(h){var w=[],d={};function f(C){if(Array.isArray(C)){var u;w=(u=w).concat.apply(u,C)}else w.push(C)}for(var g=0;g<h.length;g++)f(h[g]);w.length?(d=mt(w),b(w,d)):b(null,o)}if(c.messages){var m=this.messages();m===yt&&(m=gt()),jt(m,c.messages),c.messages=m}else c.messages=this.messages();var v={},S=c.keys||Object.keys(this.rules);S.forEach(function(h){var w=r.rules[h],d=o[h];w.forEach(function(f){var g=f;typeof g.transform=="function"&&(o===a&&(o=Pe({},o)),d=o[h]=g.transform(d)),typeof g=="function"?g={validator:g}:g=Pe({},g),g.validator=r.getValidationMethod(g),g.validator&&(g.field=h,g.fullField=g.fullField||h,g.type=r.getType(g),v[h]=v[h]||[],v[h].push({rule:g,value:d,source:o,field:h}))})});var V={};return Ba(v,c,function(h,w){var d=h.rule,f=(d.type==="object"||d.type==="array")&&(typeof d.fields=="object"||typeof d.defaultField=="object");f=f&&(d.required||!d.required&&h.value),d.field=h.field;function g(k,T){return Pe({},T,{fullField:d.fullField+"."+k,fullFields:d.fullFields?[].concat(d.fullFields,[k]):[k]})}function C(k){k===void 0&&(k=[]);var T=Array.isArray(k)?k:[k];!c.suppressWarning&&T.length&&n.warning("async-validator:",T),T.length&&d.message!==void 0&&(T=[].concat(d.message));var L=T.map(Mt(d,o));if(c.first&&L.length)return V[d.field]=1,w(L);if(!f)w(L);else{if(d.required&&!h.value)return d.message!==void 0?L=[].concat(d.message).map(Mt(d,o)):c.error&&(L=[c.error(d,fe(c.messages.required,d.field))]),w(L);var A={};d.defaultField&&Object.keys(h.value).map(function(M){A[M]=d.defaultField}),A=Pe({},A,h.rule.fields);var U={};Object.keys(A).forEach(function(M){var j=A[M],G=Array.isArray(j)?j:[j];U[M]=G.map(g.bind(null,M))});var x=new n(U);x.messages(c.messages),h.rule.options&&(h.rule.options.messages=c.messages,h.rule.options.error=c.error),x.validate(h.value,h.rule.options||c,function(M){var j=[];L&&L.length&&j.push.apply(j,L),M&&M.length&&j.push.apply(j,M),w(j.length?j:null)})}}var u;if(d.asyncValidator)u=d.asyncValidator(d,h.value,C,h.source,c);else if(d.validator){try{u=d.validator(d,h.value,C,h.source,c)}catch(k){console.error?.(k),c.suppressValidatorError||setTimeout(function(){throw k},0),C(k.message)}u===!0?C():u===!1?C(typeof d.message=="function"?d.message(d.fullField||d.field):d.message||(d.fullField||d.field)+" fails"):u instanceof Array?C(u):u instanceof Error&&C(u.message)}u&&u.then&&u.then(function(){return C()},function(k){return C(k)})},function(h){p(h)},o)},e.getType=function(a){if(a.type===void 0&&a.pattern instanceof RegExp&&(a.type="pattern"),typeof a.validator!="function"&&a.type&&!ze.hasOwnProperty(a.type))throw new Error(fe("Unknown rule type %s",a.type));return a.type||"string"},e.getValidationMethod=function(a){if(typeof a.validator=="function")return a.validator;var s=Object.keys(a),i=s.indexOf("message");return i!==-1&&s.splice(i,1),s.length===1&&s[0]==="required"?ze.required:ze[this.getType(a)]||void 0},n}();He.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");ze[e]=t};He.warning=Pa;He.messages=yt;He.validators=ze;const as=["","error","validating","success"],ss=ve({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Se([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Se([Object,Array])},error:String,validateStatus:{type:String,values:as},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:_t}}),Ut="ElLabelWrap";var rs=J({name:Ut,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Fe(St,void 0),a=Fe(ot);a||Ge(Ut,"usage: <el-form-item><label-wrap /></el-form-item>");const s=ge("form"),i=O(),r=O(0),o=()=>{var p;if((p=i.value)!=null&&p.firstElementChild){const m=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},c=(p="update")=>{Ie(()=>{e.default&&n.isAutoWidth&&(p==="update"?r.value=o():p==="remove"&&t?.deregisterLabelWidth(r.value))})},b=()=>c("update");return $e(()=>{b()}),xt(()=>{c("remove")}),Zt(()=>b()),ae(r,(p,m)=>{n.updateAll&&t?.registerLabelWidth(p,m)}),tt(F(()=>{var p,m;return(m=(p=i.value)==null?void 0:p.firstElementChild)!=null?m:null}),b),()=>{var p,m;if(!e)return null;const{isAutoWidth:v}=n;if(v){const S=t?.autoLabelWidth,V=a?.hasLabel,h={};if(V&&S&&S!=="auto"){const w=Math.max(0,Number.parseInt(S,10)-r.value),d=t.labelPosition==="left"?"marginRight":"marginLeft";w&&(h[d]=`${w}px`)}return y("div",{ref:i,class:[s.be("item","label-wrap")],style:h},[(p=e.default)==null?void 0:p.call(e)])}else return y(Et,{ref:i},[(m=e.default)==null?void 0:m.call(e)])}}});const is=["role","aria-labelledby"],ls=J({name:"ElFormItem"}),os=J({...ls,props:ss,setup(n,{expose:e}){const t=n,a=Jt(),s=Fe(St,void 0),i=Fe(ot,void 0),r=nt(void 0,{formItem:!1}),o=ge("form-item"),c=Fn().value,b=O([]),p=O(""),m=Cn(p,100),v=O(""),S=O();let V,h=!1;const w=F(()=>{if(s?.labelPosition==="top")return{};const E=ut(t.labelWidth||s?.labelWidth||"");return E?{width:E}:{}}),d=F(()=>{if(s?.labelPosition==="top"||s?.inline)return{};if(!t.label&&!t.labelWidth&&A)return{};const E=ut(t.labelWidth||s?.labelWidth||"");return!t.label&&!a.label?{marginLeft:E}:{}}),f=F(()=>[o.b(),o.m(r.value),o.is("error",p.value==="error"),o.is("validating",p.value==="validating"),o.is("success",p.value==="success"),o.is("required",G.value||t.required),o.is("no-asterisk",s?.hideRequiredAsterisk),s?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:s?.statusIcon}]),g=F(()=>qe(t.inlineMessage)?t.inlineMessage:s?.inlineMessage||!1),C=F(()=>[o.e("error"),{[o.em("error","inline")]:g.value}]),u=F(()=>t.prop?we(t.prop)?t.prop:t.prop.join("."):""),k=F(()=>!!(t.label||a.label)),T=F(()=>t.for||b.value.length===1?b.value[0]:void 0),L=F(()=>!T.value&&k.value),A=!!i,U=F(()=>{const E=s?.model;if(!(!E||!t.prop))return st(E,t.prop).value}),x=F(()=>{const{required:E}=t,z=[];t.rules&&z.push(...ft(t.rules));const te=s?.rules;if(te&&t.prop){const H=st(te,t.prop).value;H&&z.push(...ft(H))}if(E!==void 0){const H=z.map((ee,ne)=>[ee,ne]).filter(([ee])=>Object.keys(ee).includes("required"));if(H.length>0)for(const[ee,ne]of H)ee.required!==E&&(z[ne]={...ee,required:E});else z.push({required:E})}return z}),M=F(()=>x.value.length>0),j=E=>x.value.filter(te=>!te.trigger||!E?!0:Array.isArray(te.trigger)?te.trigger.includes(E):te.trigger===E).map(({trigger:te,...H})=>H),G=F(()=>x.value.some(E=>E.required)),ue=F(()=>{var E;return m.value==="error"&&t.showMessage&&((E=s?.showMessage)!=null?E:!0)}),re=F(()=>`${t.label||""}${s?.labelSuffix||""}`),W=E=>{p.value=E},ke=E=>{var z,te;const{errors:H,fields:ee}=E;(!H||!ee)&&console.error(E),W("error"),v.value=H?(te=(z=H?.[0])==null?void 0:z.message)!=null?te:`${t.prop} is required`:"",s?.emit("validate",t.prop,!1,v.value)},ye=()=>{W("success"),s?.emit("validate",t.prop,!0,"")},xe=async E=>{const z=u.value;return new He({[z]:E}).validate({[z]:U.value},{firstFields:!0}).then(()=>(ye(),!0)).catch(H=>(ke(H),Promise.reject(H)))},Oe=async(E,z)=>{if(h||!t.prop)return!1;const te=Ue(z);if(!M.value)return z?.(!1),!1;const H=j(E);return H.length===0?(z?.(!0),!0):(W("validating"),xe(H).then(()=>(z?.(!0),!0)).catch(ee=>{const{fields:ne}=ee;return z?.(!1,ne),te?!1:Promise.reject(ne)}))},q=()=>{W(""),v.value="",h=!1},_=async()=>{const E=s?.model;if(!E||!t.prop)return;const z=st(E,t.prop);h=!0,z.value=It(V),await Ie(),q(),h=!1},ie=E=>{b.value.includes(E)||b.value.push(E)},le=E=>{b.value=b.value.filter(z=>z!==E)};ae(()=>t.error,E=>{v.value=E||"",W(E?"error":"")},{immediate:!0}),ae(()=>t.validateStatus,E=>W(E||""));const Q=Ve({...Yt(t),$el:S,size:r,validateState:p,labelId:c,inputIds:b,isGroup:L,hasLabel:k,addInputId:ie,removeInputId:le,resetField:_,clearValidate:q,validate:Oe});return et(ot,Q),$e(()=>{t.prop&&(s?.addField(Q),V=It(U.value))}),xt(()=>{s?.removeField(Q)}),e({size:r,validateMessage:v,validateState:p,validate:Oe,clearValidate:q,resetField:_}),(E,z)=>{var te;return N(),Y("div",{ref_key:"formItemRef",ref:S,class:B(l(f)),role:l(L)?"group":void 0,"aria-labelledby":l(L)?l(c):void 0},[y(l(rs),{"is-auto-width":l(w).width==="auto","update-all":((te=l(s))==null?void 0:te.labelWidth)==="auto"},{default:$(()=>[l(k)?(N(),Z(Ne(l(T)?"label":"div"),{key:0,id:l(c),for:l(T),class:B(l(o).e("label")),style:Ce(l(w))},{default:$(()=>[pe(E.$slots,"label",{label:l(re)},()=>[oe(D(l(re)),1)])]),_:3},8,["id","for","class","style"])):X("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),K("div",{class:B(l(o).e("content")),style:Ce(l(d))},[pe(E.$slots,"default"),y(kn,{name:`${l(o).namespace.value}-zoom-in-top`},{default:$(()=>[l(ue)?pe(E.$slots,"error",{key:0,error:v.value},()=>[K("div",{class:B(l(C))},D(v.value),3)]):X("v-if",!0)]),_:3},8,["name"])],6)],10,is)}}});var sn=be(os,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const us=Le(Ea,{FormItem:sn}),cs=Ft(sn),ds=ve({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),fs=["textContent"],ps=J({name:"ElBadge"}),vs=J({...ps,props:ds,setup(n,{expose:e}){const t=n,a=ge("badge"),s=F(()=>t.isDot?"":_e(t.value)&&_e(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return e({content:s}),(i,r)=>(N(),Y("div",{class:B(l(a).b())},[pe(i.$slots,"default"),y(Xt,{name:`${l(a).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[Ct(K("sup",{class:B([l(a).e("content"),l(a).em("content",i.type),l(a).is("fixed",!!i.$slots.default),l(a).is("dot",i.isDot)]),textContent:D(l(s))},null,10,fs),[[kt,!i.hidden&&(l(s)||i.isDot)]])]),_:1},8,["name"])],2))}});var ms=be(vs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const gs=Le(ms),ys=ve({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),hs={[We]:(n,e)=>[n,e].every(_e)},bs=J({name:"ElSteps"}),ws=J({...bs,props:ys,emits:hs,setup(n,{emit:e}){const t=n,a=ge("steps"),s=O([]);return ae(s,()=>{s.value.forEach((i,r)=>{i.setIndex(r)})}),et("ElSteps",{props:t,steps:s}),ae(()=>t.active,(i,r)=>{e(We,i,r)}),(i,r)=>(N(),Y("div",{class:B([l(a).b(),l(a).m(i.simple?"simple":i.direction)])},[pe(i.$slots,"default")],2))}});var _s=be(ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const Ss=ve({title:{type:String,default:""},icon:{type:Qe},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),xs=J({name:"ElStep"}),Es=J({...xs,props:Ss,setup(n){const e=n,t=ge("step"),a=O(-1),s=O({}),i=O(""),r=Fe("ElSteps"),o=Re();$e(()=>{ae([()=>r.props.active,()=>r.props.processStatus,()=>r.props.finishStatus],([u])=>{g(u)},{immediate:!0})}),xt(()=>{r.steps.value=r.steps.value.filter(u=>u.uid!==o?.uid)});const c=F(()=>e.status||i.value),b=F(()=>{const u=r.steps.value[a.value-1];return u?u.currentStatus:"wait"}),p=F(()=>r.props.alignCenter),m=F(()=>r.props.direction==="vertical"),v=F(()=>r.props.simple),S=F(()=>r.steps.value.length),V=F(()=>{var u;return((u=r.steps.value[S.value-1])==null?void 0:u.uid)===o?.uid}),h=F(()=>v.value?"":r.props.space),w=F(()=>{const u={flexBasis:_e(h.value)?`${h.value}px`:h.value?h.value:`${100/(S.value-(p.value?0:1))}%`};return m.value||V.value&&(u.maxWidth=`${100/S.value}%`),u}),d=u=>{a.value=u},f=u=>{const k=u==="wait",T={transitionDelay:`${k?"-":""}${150*a.value}ms`},L=u===r.props.processStatus||k?0:100;T.borderWidth=L&&!v.value?"1px":0,T[r.props.direction==="vertical"?"height":"width"]=`${L}%`,s.value=T},g=u=>{u>a.value?i.value=r.props.finishStatus:u===a.value&&b.value!=="error"?i.value=r.props.processStatus:i.value="wait";const k=r.steps.value[a.value-1];k&&k.calcProgress(i.value)},C=Ve({uid:F(()=>o?.uid),currentStatus:c,setIndex:d,calcProgress:f});return r.steps.value=[...r.steps.value,C],(u,k)=>(N(),Y("div",{style:Ce(l(w)),class:B([l(t).b(),l(t).is(l(v)?"simple":l(r).props.direction),l(t).is("flex",l(V)&&!l(h)&&!l(p)),l(t).is("center",l(p)&&!l(m)&&!l(v))])},[X(" icon & line "),K("div",{class:B([l(t).e("head"),l(t).is(l(c))])},[l(v)?X("v-if",!0):(N(),Y("div",{key:0,class:B(l(t).e("line"))},[K("i",{class:B(l(t).e("line-inner")),style:Ce(s.value)},null,6)],2)),K("div",{class:B([l(t).e("icon"),l(t).is(u.icon||u.$slots.icon?"icon":"text")])},[pe(u.$slots,"icon",{},()=>[u.icon?(N(),Z(l(de),{key:0,class:B(l(t).e("icon-inner"))},{default:$(()=>[(N(),Z(Ne(u.icon)))]),_:1},8,["class"])):l(c)==="success"?(N(),Z(l(de),{key:1,class:B([l(t).e("icon-inner"),l(t).is("status")])},{default:$(()=>[y(l(Tn))]),_:1},8,["class"])):l(c)==="error"?(N(),Z(l(de),{key:2,class:B([l(t).e("icon-inner"),l(t).is("status")])},{default:$(()=>[y(l(Qt))]),_:1},8,["class"])):l(v)?X("v-if",!0):(N(),Y("div",{key:3,class:B(l(t).e("icon-inner"))},D(a.value+1),3))])],2)],2),X(" title & description "),K("div",{class:B(l(t).e("main"))},[K("div",{class:B([l(t).e("title"),l(t).is(l(c))])},[pe(u.$slots,"title",{},()=>[oe(D(u.title),1)])],2),l(v)?(N(),Y("div",{key:0,class:B(l(t).e("arrow"))},null,2)):(N(),Y("div",{key:1,class:B([l(t).e("description"),l(t).is(l(c))])},[pe(u.$slots,"description",{},()=>[oe(D(u.description),1)])],2))],2)],6))}});var rn=be(Es,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Fs=Le(_s,{Step:rn}),Cs=Ft(rn),ks=ve({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Qe},inactiveIcon:{type:Qe},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Se(Function)},size:{type:String,validator:ta},tabindex:{type:[String,Number]}}),Ts={[De]:n=>qe(n)||we(n)||_e(n),[We]:n=>qe(n)||we(n)||_e(n),[dt]:n=>qe(n)||we(n)||_e(n)},Ps=["onClick"],Ns=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],$s=["aria-hidden"],Os=["aria-hidden"],Bs=["aria-hidden"],ht="ElSwitch",qs=J({name:ht}),Vs=J({...qs,props:ks,emits:Ts,setup(n,{expose:e,emit:t}){const a=n,s=Re(),{formItem:i}=na(),r=nt(),o=ge("switch");en({from:'"value"',replacement:'"model-value" or "v-model"',scope:ht,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},F(()=>{var u;return!!((u=s.vnode.props)!=null&&u.value)}));const{inputId:c}=aa(a,{formItemContext:i}),b=sa(F(()=>a.loading)),p=O(a.modelValue!==!1),m=O(),v=O(),S=F(()=>[o.b(),o.m(r.value),o.is("disabled",b.value),o.is("checked",w.value)]),V=F(()=>({width:ut(a.width)}));ae(()=>a.modelValue,()=>{p.value=!0}),ae(()=>a.value,()=>{p.value=!1});const h=F(()=>p.value?a.modelValue:a.value),w=F(()=>h.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(h.value)||(t(De,a.inactiveValue),t(We,a.inactiveValue),t(dt,a.inactiveValue)),ae(w,u=>{var k;m.value.checked=u,a.validateEvent&&((k=i?.validate)==null||k.call(i,"change").catch(T=>Ht()))});const d=()=>{const u=w.value?a.inactiveValue:a.activeValue;t(De,u),t(We,u),t(dt,u),Ie(()=>{m.value.checked=w.value})},f=()=>{if(b.value)return;const{beforeChange:u}=a;if(!u){d();return}const k=u();[Nt(k),qe(k)].includes(!0)||Ge(ht,"beforeChange must return type `Promise<boolean>` or `boolean`"),Nt(k)?k.then(L=>{L&&d()}).catch(L=>{}):k&&d()},g=F(()=>o.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),C=()=>{var u,k;(k=(u=m.value)==null?void 0:u.focus)==null||k.call(u)};return $e(()=>{m.value.checked=w.value}),e({focus:C,checked:w}),(u,k)=>(N(),Y("div",{class:B(l(S)),style:Ce(l(g)),onClick:tn(f,["prevent"])},[K("input",{id:l(c),ref_key:"input",ref:m,class:B(l(o).e("input")),type:"checkbox",role:"switch","aria-checked":l(w),"aria-disabled":l(b),name:u.name,"true-value":u.activeValue,"false-value":u.inactiveValue,disabled:l(b),tabindex:u.tabindex,onChange:d,onKeydown:Pn(f,["enter"])},null,42,Ns),!u.inlinePrompt&&(u.inactiveIcon||u.inactiveText)?(N(),Y("span",{key:0,class:B([l(o).e("label"),l(o).em("label","left"),l(o).is("active",!l(w))])},[u.inactiveIcon?(N(),Z(l(de),{key:0},{default:$(()=>[(N(),Z(Ne(u.inactiveIcon)))]),_:1})):X("v-if",!0),!u.inactiveIcon&&u.inactiveText?(N(),Y("span",{key:1,"aria-hidden":l(w)},D(u.inactiveText),9,$s)):X("v-if",!0)],2)):X("v-if",!0),K("span",{ref_key:"core",ref:v,class:B(l(o).e("core")),style:Ce(l(V))},[u.inlinePrompt?(N(),Y("div",{key:0,class:B(l(o).e("inner"))},[u.activeIcon||u.inactiveIcon?(N(),Z(l(de),{key:0,class:B(l(o).is("icon"))},{default:$(()=>[(N(),Z(Ne(l(w)?u.activeIcon:u.inactiveIcon)))]),_:1},8,["class"])):u.activeText||u.inactiveText?(N(),Y("span",{key:1,class:B(l(o).is("text")),"aria-hidden":!l(w)},D(l(w)?u.activeText:u.inactiveText),11,Os)):X("v-if",!0)],2)):X("v-if",!0),K("div",{class:B(l(o).e("action"))},[u.loading?(N(),Z(l(de),{key:0,class:B(l(o).is("loading"))},{default:$(()=>[y(l(Nn))]),_:1},8,["class"])):X("v-if",!0)],2)],6),!u.inlinePrompt&&(u.activeIcon||u.activeText)?(N(),Y("span",{key:1,class:B([l(o).e("label"),l(o).em("label","right"),l(o).is("active",l(w))])},[u.activeIcon?(N(),Z(l(de),{key:0},{default:$(()=>[(N(),Z(Ne(u.activeIcon)))]),_:1})):X("v-if",!0),!u.activeIcon&&u.activeText?(N(),Y("span",{key:1,"aria-hidden":!l(w)},D(u.activeText),9,Bs)):X("v-if",!0)],2)):X("v-if",!0)],14,Ps))}});var As=be(Vs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Is=Le(As),at=Symbol("tabsRootContextKey"),Ls=ve({tabs:{type:Se(Array),default:()=>Tt([])}}),ln="ElTabBar",Rs=J({name:ln}),Ms=J({...Rs,props:Ls,setup(n,{expose:e}){const t=n,a=Re(),s=Fe(at);s||Ge(ln,"<el-tabs><el-tab-bar /></el-tabs>");const i=ge("tabs"),r=O(),o=O(),c=()=>{let p=0,m=0;const v=["top","bottom"].includes(s.props.tabPosition)?"width":"height",S=v==="width"?"x":"y",V=S==="x"?"left":"top";return t.tabs.every(h=>{var w,d;const f=(d=(w=a.parent)==null?void 0:w.refs)==null?void 0:d[`tab-${h.uid}`];if(!f)return!1;if(!h.active)return!0;p=f[`offset${Ee(V)}`],m=f[`client${Ee(v)}`];const g=window.getComputedStyle(f);return v==="width"&&(t.tabs.length>1&&(m-=Number.parseFloat(g.paddingLeft)+Number.parseFloat(g.paddingRight)),p+=Number.parseFloat(g.paddingLeft)),!1}),{[v]:`${m}px`,transform:`translate${Ee(S)}(${p}px)`}},b=()=>o.value=c();return ae(()=>t.tabs,async()=>{await Ie(),b()},{immediate:!0}),tt(r,()=>b()),e({ref:r,update:b}),(p,m)=>(N(),Y("div",{ref_key:"barRef",ref:r,class:B([l(i).e("active-bar"),l(i).is(l(s).props.tabPosition)]),style:Ce(o.value)},null,6))}});var js=be(Ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const zs=ve({panes:{type:Se(Array),default:()=>Tt([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Us={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},Wt="ElTabNav",Ws=J({name:Wt,props:zs,emits:Us,setup(n,{expose:e,emit:t}){const a=Re(),s=Fe(at);s||Ge(Wt,"<el-tabs><tab-nav /></el-tabs>");const i=ge("tabs"),r=$n(),o=On(),c=O(),b=O(),p=O(),m=O(),v=O(!1),S=O(0),V=O(!1),h=O(!0),w=F(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),d=F(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${S.value}px)`})),f=()=>{if(!c.value)return;const A=c.value[`offset${Ee(w.value)}`],U=S.value;if(!U)return;const x=U>A?U-A:0;S.value=x},g=()=>{if(!c.value||!b.value)return;const A=b.value[`offset${Ee(w.value)}`],U=c.value[`offset${Ee(w.value)}`],x=S.value;if(A-x<=U)return;const M=A-x>U*2?x+U:A-U;S.value=M},C=async()=>{const A=b.value;if(!v.value||!p.value||!c.value||!A)return;await Ie();const U=p.value.querySelector(".is-active");if(!U)return;const x=c.value,M=["top","bottom"].includes(s.props.tabPosition),j=U.getBoundingClientRect(),G=x.getBoundingClientRect(),ue=M?A.offsetWidth-G.width:A.offsetHeight-G.height,re=S.value;let W=re;M?(j.left<G.left&&(W=re-(G.left-j.left)),j.right>G.right&&(W=re+j.right-G.right)):(j.top<G.top&&(W=re-(G.top-j.top)),j.bottom>G.bottom&&(W=re+(j.bottom-G.bottom))),W=Math.max(W,0),S.value=Math.min(W,ue)},u=()=>{var A;if(!b.value||!c.value)return;n.stretch&&((A=m.value)==null||A.update());const U=b.value[`offset${Ee(w.value)}`],x=c.value[`offset${Ee(w.value)}`],M=S.value;x<U?(v.value=v.value||{},v.value.prev=M,v.value.next=M+x<U,U-M<x&&(S.value=U-x)):(v.value=!1,M>0&&(S.value=0))},k=A=>{const U=A.code,{up:x,down:M,left:j,right:G}=je;if(![x,M,j,G].includes(U))return;const ue=Array.from(A.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),re=ue.indexOf(A.target);let W;U===j||U===x?re===0?W=ue.length-1:W=re-1:re<ue.length-1?W=re+1:W=0,ue[W].focus({preventScroll:!0}),ue[W].click(),T()},T=()=>{h.value&&(V.value=!0)},L=()=>V.value=!1;return ae(r,A=>{A==="hidden"?h.value=!1:A==="visible"&&setTimeout(()=>h.value=!0,50)}),ae(o,A=>{A?setTimeout(()=>h.value=!0,50):h.value=!1}),tt(p,u),$e(()=>setTimeout(()=>C(),0)),Zt(()=>u()),e({scrollToActiveTab:C,removeFocus:L}),ae(()=>n.panes,()=>a.update(),{flush:"post",deep:!0}),()=>{const A=v.value?[y("span",{class:[i.e("nav-prev"),i.is("disabled",!v.value.prev)],onClick:f},[y(de,null,{default:()=>[y(Bn,null,null)]})]),y("span",{class:[i.e("nav-next"),i.is("disabled",!v.value.next)],onClick:g},[y(de,null,{default:()=>[y(qn,null,null)]})])]:null,U=n.panes.map((x,M)=>{var j,G,ue,re;const W=x.uid,ke=x.props.disabled,ye=(G=(j=x.props.name)!=null?j:x.index)!=null?G:`${M}`,xe=!ke&&(x.isClosable||n.editable);x.index=`${M}`;const Oe=xe?y(de,{class:"is-icon-close",onClick:ie=>t("tabRemove",x,ie)},{default:()=>[y(Qt,null,null)]}):null,q=((re=(ue=x.slots).label)==null?void 0:re.call(ue))||x.props.label,_=!ke&&x.active?0:-1;return y("div",{ref:`tab-${W}`,class:[i.e("item"),i.is(s.props.tabPosition),i.is("active",x.active),i.is("disabled",ke),i.is("closable",xe),i.is("focus",V.value)],id:`tab-${ye}`,key:`tab-${W}`,"aria-controls":`pane-${ye}`,role:"tab","aria-selected":x.active,tabindex:_,onFocus:()=>T(),onBlur:()=>L(),onClick:ie=>{L(),t("tabClick",x,ye,ie)},onKeydown:ie=>{xe&&(ie.code===je.delete||ie.code===je.backspace)&&t("tabRemove",x,ie)}},[q,Oe])});return y("div",{ref:p,class:[i.e("nav-wrap"),i.is("scrollable",!!v.value),i.is(s.props.tabPosition)]},[A,y("div",{class:i.e("nav-scroll"),ref:c},[y("div",{class:[i.e("nav"),i.is(s.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:b,style:d.value,role:"tablist",onKeydown:k},[n.type?null:y(js,{ref:m,tabs:[...n.panes]},null),U])])])}}}),Ds=ve({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Se(Function),default:()=>!0},stretch:Boolean}),it=n=>we(n)||_e(n),Ks={[De]:n=>it(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>it(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>it(n),tabAdd:()=>!0};var Gs=J({name:"ElTabs",props:Ds,emits:Ks,setup(n,{emit:e,slots:t,expose:a}){var s,i;const r=ge("tabs"),{children:o,addChild:c,removeChild:b}=ga(Re(),"ElTabPane"),p=O(),m=O((i=(s=n.modelValue)!=null?s:n.activeName)!=null?i:"0"),v=d=>{m.value=d,e(De,d),e("tabChange",d)},S=async d=>{var f,g,C;if(!(m.value===d||$t(d)))try{await((f=n.beforeLeave)==null?void 0:f.call(n,d,m.value))!==!1&&(v(d),(C=(g=p.value)==null?void 0:g.removeFocus)==null||C.call(g))}catch{}},V=(d,f,g)=>{d.props.disabled||(S(f),e("tabClick",d,g))},h=(d,f)=>{d.props.disabled||$t(d.props.name)||(f.stopPropagation(),e("edit",d.props.name,"remove"),e("tabRemove",d.props.name))},w=()=>{e("edit",void 0,"add"),e("tabAdd")};return en({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},F(()=>!!n.activeName)),ae(()=>n.activeName,d=>S(d)),ae(()=>n.modelValue,d=>S(d)),ae(m,async()=>{var d;await Ie(),(d=p.value)==null||d.scrollToActiveTab()}),et(at,{props:n,currentName:m,registerPane:c,unregisterPane:b}),a({currentName:m}),()=>{const d=n.editable||n.addable?y("span",{class:r.e("new-tab"),tabindex:"0",onClick:w,onKeydown:C=>{C.code===je.enter&&w()}},[y(de,{class:r.is("icon-plus")},{default:()=>[y(Vn,null,null)]})]):null,f=y("div",{class:[r.e("header"),r.is(n.tabPosition)]},[d,y(Ws,{ref:p,currentName:m.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:V,onTabRemove:h},null)]),g=y("div",{class:r.e("content")},[pe(t,"default")]);return y("div",{class:[r.b(),r.m(n.tabPosition),{[r.m("card")]:n.type==="card",[r.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[f,g]:[g,f]])}}});const Hs=ve({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ys=["id","aria-hidden","aria-labelledby"],on="ElTabPane",Zs=J({name:on}),Js=J({...Zs,props:Hs,setup(n){const e=n,t=Re(),a=Jt(),s=Fe(at);s||Ge(on,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=ge("tab-pane"),r=O(),o=F(()=>e.closable||s.props.closable),c=Ot(()=>{var S;return s.currentName.value===((S=e.name)!=null?S:r.value)}),b=O(c.value),p=F(()=>{var S;return(S=e.name)!=null?S:r.value}),m=Ot(()=>!e.lazy||b.value||c.value);ae(c,S=>{S&&(b.value=!0)});const v=Ve({uid:t.uid,slots:a,props:e,paneName:p,active:c,index:r,isClosable:o});return $e(()=>{s.registerPane(v)}),An(()=>{s.unregisterPane(v.uid)}),(S,V)=>l(m)?Ct((N(),Y("div",{key:0,id:`pane-${l(p)}`,class:B(l(i).b()),role:"tabpanel","aria-hidden":!l(c),"aria-labelledby":`tab-${l(p)}`},[pe(S.$slots,"default")],10,Ys)),[[kt,l(c)]]):X("v-if",!0)}});var un=be(Js,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Xs=Le(Gs,{TabPane:un}),Qs=Ft(un),er=ve({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:_t,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),tr=J({name:"ElText"}),nr=J({...tr,props:er,setup(n){const e=n,t=nt(),a=ge("text"),s=F(()=>[a.b(),a.m(e.type),a.m(t.value),a.is("truncated",e.truncated)]);return(i,r)=>(N(),Z(Ne(i.tag),{class:B(l(s))},{default:$(()=>[pe(i.$slots,"default")]),_:3},8,["class"]))}});var ar=be(nr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const sr=Le(ar),cn=["success","info","warning","error"],ce=Tt({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:nn?document.body:void 0}),rr=ve({customClass:{type:String,default:ce.customClass},center:{type:Boolean,default:ce.center},dangerouslyUseHTMLString:{type:Boolean,default:ce.dangerouslyUseHTMLString},duration:{type:Number,default:ce.duration},icon:{type:Qe,default:ce.icon},id:{type:String,default:ce.id},message:{type:Se([String,Object,Function]),default:ce.message},onClose:{type:Se(Function),required:!1},showClose:{type:Boolean,default:ce.showClose},type:{type:String,values:cn,default:ce.type},offset:{type:Number,default:ce.offset},zIndex:{type:Number,default:ce.zIndex},grouping:{type:Boolean,default:ce.grouping},repeatNum:{type:Number,default:ce.repeatNum}}),ir={destroy:()=>!0},he=In([]),lr=n=>{const e=he.findIndex(s=>s.id===n),t=he[e];let a;return e>0&&(a=he[e-1]),{current:t,prev:a}},or=n=>{const{prev:e}=lr(n);return e?e.vm.exposed.bottom.value:0},ur=(n,e)=>he.findIndex(a=>a.id===n)>0?20:e,cr=["id"],dr=["innerHTML"],fr=J({name:"ElMessage"}),pr=J({...fr,props:rr,emits:ir,setup(n,{expose:e}){const t=n,{Close:a}=Mn,{ns:s,zIndex:i}=Ln("message"),{currentZIndex:r,nextZIndex:o}=i,c=O(),b=O(!1),p=O(0);let m;const v=F(()=>t.type?t.type==="error"?"danger":t.type:"info"),S=F(()=>{const T=t.type;return{[s.bm("icon",T)]:T&&Bt[T]}}),V=F(()=>t.icon||Bt[t.type]||""),h=F(()=>or(t.id)),w=F(()=>ur(t.id,t.offset)+h.value),d=F(()=>p.value+w.value),f=F(()=>({top:`${w.value}px`,zIndex:r.value}));function g(){t.duration!==0&&({stop:m}=jn(()=>{u()},t.duration))}function C(){m?.()}function u(){b.value=!1}function k({code:T}){T===je.esc&&u()}return $e(()=>{g(),o(),b.value=!0}),ae(()=>t.repeatNum,()=>{C(),g()}),Rn(document,"keydown",k),tt(c,()=>{p.value=c.value.getBoundingClientRect().height}),e({visible:b,bottom:d,close:u}),(T,L)=>(N(),Z(Xt,{name:l(s).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:L[0]||(L[0]=A=>T.$emit("destroy")),persisted:""},{default:$(()=>[Ct(K("div",{id:T.id,ref_key:"messageRef",ref:c,class:B([l(s).b(),{[l(s).m(T.type)]:T.type&&!T.icon},l(s).is("center",T.center),l(s).is("closable",T.showClose),T.customClass]),style:Ce(l(f)),role:"alert",onMouseenter:C,onMouseleave:g},[T.repeatNum>1?(N(),Z(l(gs),{key:0,value:T.repeatNum,type:l(v),class:B(l(s).e("badge"))},null,8,["value","type","class"])):X("v-if",!0),l(V)?(N(),Z(l(de),{key:1,class:B([l(s).e("icon"),l(S)])},{default:$(()=>[(N(),Z(Ne(l(V))))]),_:1},8,["class"])):X("v-if",!0),pe(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(N(),Y(Et,{key:1},[X(" Caution here, message could've been compromised, never use user's input as message "),K("p",{class:B(l(s).e("content")),innerHTML:T.message},null,10,dr)],2112)):(N(),Y("p",{key:0,class:B(l(s).e("content"))},D(T.message),3))]),T.showClose?(N(),Z(l(de),{key:2,class:B(l(s).e("closeBtn")),onClick:tn(u,["stop"])},{default:$(()=>[y(l(a))]),_:1},8,["class","onClick"])):X("v-if",!0)],46,cr),[[kt,b.value]])]),_:3},8,["name","onBeforeLeave"]))}});var vr=be(pr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let mr=1;const dn=n=>{const e=!n||we(n)||wt(n)||Ue(n)?{message:n}:n,t={...ce,...e};if(!t.appendTo)t.appendTo=document.body;else if(we(t.appendTo)){let a=document.querySelector(t.appendTo);zn(a)||(a=document.body),t.appendTo=a}return t},gr=n=>{const e=he.indexOf(n);if(e===-1)return;he.splice(e,1);const{handler:t}=n;t.close()},yr=({appendTo:n,...e},t)=>{const a=`message_${mr++}`,s=e.onClose,i=document.createElement("div"),r={...e,id:a,onClose:()=>{s?.(),gr(p)},onDestroy:()=>{Vt(null,i)}},o=y(vr,r,Ue(r.message)||wt(r.message)?{default:Ue(r.message)?r.message:()=>r.message}:null);o.appContext=t||Ae._context,Vt(o,i),n.appendChild(i.firstElementChild);const c=o.component,p={id:a,vnode:o,vm:c,handler:{close:()=>{c.exposed.visible.value=!1}},props:o.component.props};return p},Ae=(n={},e)=>{if(!nn)return{close:()=>{}};if(_e(qt.max)&&he.length>=qt.max)return{close:()=>{}};const t=dn(n);if(t.grouping&&he.length){const s=he.find(({vnode:i})=>{var r;return((r=i.props)==null?void 0:r.message)===t.message});if(s)return s.props.repeatNum+=1,s.props.type=t.type,s.handler}const a=yr(t,e);return he.push(a),a.handler};cn.forEach(n=>{Ae[n]=(e={},t)=>{const a=dn(e);return Ae({...a,type:n},t)}});function hr(n){for(const e of he)(!n||n===e.props.type)&&e.handler.close()}Ae.closeAll=hr;Ae._context=null;const Dt=Un(Ae,"$message");const br="/torrents/assets/main-5847766a.wasm";let fn=async function(n){const e=await crypto.subtle.digest("SHA-1",n);return new Uint8Array(e)};if(typeof WebAssembly<"u"){console.log("wasm enabled");const n=new Go,e=await WebAssembly.instantiateStreaming(fetch(br),n.importObject);console.log(e),n.run(e.instance),fn=async t=>{const a=new Uint8Array(20);return go_sha1(t,a)}}const Kt=new Map;async function wr(n,e,t,a){const s=n.reduce((m,v)=>m+v.size,0),i=n.map(m=>m.uid).join("|")+e,r=Kt.get(i);if(r)return a(s,s,t),r;const o=await _r(n,e,s,t,a),c=o.reduce((m,v)=>m+v.byteLength,0),b=new Uint8Array(c);let p=0;for(const m of o)b.set(m,p),p+=m.byteLength;return Kt.set(i,b),b}async function _r(n,e,t,a,s){const i=[];let r=0,o=0,c=0;return await new Promise(async b=>{for await(let p of Sr(n,t,e))if(p){if(o+=p.byteLength,!s(o,t,a))throw new Error("Canceled");await xr(r++,p,(m,v,S)=>{i[m]=S,c+=v,c===t&&b()})}}),i}function Sr(n,e,t){const a=n.length;let s=0,i=0,r=0;return{[Symbol.asyncIterator](){return{async next(){if(i==e)return{done:!0};let o=await n[s].slice(r,r+t).arrayBuffer(),c=o.byteLength;for(r+=c,i+=c;c<t&&(s++,!(s>=a));){r=0;const b=t-c,p=await n[s].slice(r,r+b).arrayBuffer(),m=p.byteLength;c+=m,r+=m,i+=m;const v=new Uint8Array(c);v.set(new Uint8Array(o)),v.set(new Uint8Array(p),o.byteLength),o=v}return{done:!1,value:new Uint8Array(o)}}}}}}const bt=Er();async function xr(n,e,t){return new Promise(a=>{if(location.search.includes("sha1=fake")){t(n,e.byteLength,new Uint8Array(20)),a();return}bt.length>0?(a(),pn(n,e,t)):fn(e).then(s=>{t(n,e.byteLength,s),a()})})}function Er(){let n=[];try{const e=Math.min(navigator.hardwareConcurrency||1,8);for(let t=0;t<e;t++)n.push(new Worker(new URL("/torrents/assets/worker-d8e16fed.js",self.location)))}catch(e){console.log("init worker error",e),n=[]}return console.log("workes length",n.length,n),n}const lt=new Set,Gt=[];function pn(n,e,t){let a=null,s=-1;for(let o=0;o<bt.length;o++)if(!lt.has(o)){lt.add(o),s=o,a=bt[o];break}const i={workerIndex:s,pieceIndex:n,pieceData:e};console.log("req=",i.workerIndex,i.pieceIndex);const r=new Date().getTime();a!=null?(a.postMessage(i),a.onmessage=o=>{const c=o.data,b=new Date().getTime()-r;console.log("cost",ct(b),"resp=",c),t(c.pieceIndex,c.pieceLengh,c.pieceHash),lt.delete(c.workerIndex);const p=Gt.shift();p&&(console.log("do previous task",p),pn(p.req.pieceIndex,p.req.pieceData,p.callback))}):(console.log("waiting a worker",i),Gt.push({req:i,callback:t}))}function Je(n){return n<1024?me("{0} B",n):n<1024*1024?me("{0} KB",(n/1024).toFixed(2)):n<1024*1024*1024?me("{0} MB",(n/1024/1024).toFixed(2)):n<1024*1024*1024*1024?me("{0} GB",(n/1024/1024/1024).toFixed(2)):me("{0} TB",(n/1024/1024/1024/1024).toFixed(2))}const vn=n=>(Jn("data-v-d3661630"),n=n(),Xn(),n),Fr={class:"flex justify-around"},Cr={key:0},kr=vn(()=>K("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),Tr={class:"el-upload__text"},Pr={key:1},Nr=vn(()=>K("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),$r={class:"el-upload__text"},Or={class:"el-upload__tip"},Br={class:"flex justify-between"},qr={class:"flex justify-between"},Vr={class:"flex justify-between"},Ar=J({__name:"CreateView",setup(n){const e=["type","add_file","settings","generate"],s=O(0),i=F({get:()=>e[s.value],set:q=>{const _=e.indexOf(q);_>=0&&(s.value=_)}}),r=O(!1),o=!1,c=q=>{r.value=q,s.value=1,m.value.clearFiles()},b=P("Your broswer does not support select folder, please select files one by one. (All files should be on the same folder.)"),p=F(()=>s.value>0?r.value?Te("desc","Single File"):Te("desc","Folder"):""),m=O(),v=O([]),S=q=>{m.value.clearFiles();const _=q[0];m.value.handleStart(_)};function V(){s.value=2,f.folderName=h()}function h(){return""}function w(q){const _=q.raw?.webkitRelativePath;return _||q.name}const d=F(()=>{if(s.value<1)return"";if(r.value){let q=v.value[0]?.name;return q&&q.length>40&&(q=q.substring(0,18)+"..."+q.substring(q.length-18)),q}else if(v.value.length>0)return me(P("{0} Files"),v.value.length);return""}),f=Ve({folderName:"",pieceSize:0,isPrivate:!1,setCreation:!0,trackers:"",webSeeds:"",comment:"",source:""}),g=q=>{v.value.splice(q,1)},C=F(()=>{if(s.value<=2)return"";let q="";if(r){const _=v.value[0].size;q+=Je(_),f.isPrivate?q=me(Te("settings desc","PT ({0})"),Je(_)):q=me(Te("settings desc","BT ({0})"),Je(_))}return q}),u=()=>{if(!r.value&&!o&&f.folderName==="")return k(P("Folder name can not be empty."));if(f.trackers!==""){const q=f.trackers.trim().split(/\s+/g);for(let _ of q)try{new URL(_)}catch{return k(me(P("invalid tracker URL: {0}"),_))}}s.value++,ue()};function k(q){ia.error({title:P("Error"),message:q})}const T=O(!1),L=Ve({pct:0,status:""}),A=O(0),U=F(()=>T.value?me(P("done ({0})"),ct(A.value)):""),x=O({announce:"","announce-list":[],"created by":"https://pub-go.github.io/torrents/",info:{name:"","piece length":0,pieces:new Uint8Array}}),M=O(),j=O(""),G=O(""),ue=async()=>{T.value=!1,ye.value=!1,L.pct=0,L.status="";const q=new Date().getTime();if(G.value=q+"",f.trackers){const le=f.trackers.trim().split(/\s+/g);x.value.announce=le[0],x.value["announce-list"]=le.map(Q=>[Q])}else delete x.value.announce,delete x.value["announce-list"];f.setCreation?x.value["creation date"]=new Date().getTime()/1e3|0:delete x.value["creation date"],f.comment?x.value.comment=f.comment:delete x.value.comment;const _=f.webSeeds.split(/\s+/g);f.webSeeds?x.value["url-list"]=_:delete x.value["url-list"];const ie=re();if(x.value.info.name=ie,M.value.download=ie+".torrent",f.pieceSize)x.value.info["piece length"]=f.pieceSize;else{const le=v.value.reduce((Q,E)=>Q+E.size,0);x.value.info["piece length"]=W(le)}r.value?x.value.info.length=v.value[0].size:x.value.info.files=v.value.map(le=>({length:le.size,path:w(le).split("/")}));try{x.value.info.pieces=await wr(v.value.map(le=>le.raw),x.value.info["piece length"],G.value,(le,Q,E)=>(L.pct=Yn(100*le/Q,2),le===Q&&(L.status="success"),E==G.value))}catch{Dt.info({message:P("task canceled.")});return}A.value=new Date().getTime()-q,Dt.success({message:me(P("Generate torrent file success. ({0})"),ct(A.value))}),T.value=!0,URL.revokeObjectURL(j.value),j.value=URL.createObjectURL(new Blob([At(x.value).Encode()])),M.value.href=j.value};function re(){return r.value?v.value[0].name:f.folderName}function W(q){let _=Math.round(Math.log(q/1200)/Math.log(2));return _<14?_=14:_>24&&(_=24),1<<_}const ke=()=>{s.value=e.length,M.value.click()},ye=O(!1),xe=O(new la({})),Oe=()=>{ye.value=!ye.value,xe.value=At(x.value)};return(q,_)=>{const ie=Cs,le=Fs,Q=oa,E=Qs,z=ua,te=sr,H=ca,ee=cs,ne=da,mn=fa,Pt=Is,gn=us,yn=pa,hn=Xs,bn=Wn;return N(),Z(bn,{class:"is-vertical"},{default:$(()=>[y(le,{class:"w100%",active:s.value,"finish-status":"success"},{default:$(()=>[y(ie,{title:l(P)("Select Type"),description:l(p)},null,8,["title","description"]),y(ie,{title:l(P)("Add File"),description:l(d)},null,8,["title","description"]),y(ie,{title:l(P)("Settings"),description:l(C)},null,8,["title","description"]),y(ie,{title:l(P)("Generate"),description:l(U)},null,8,["title","description"])]),_:1},8,["active"]),y(hn,{modelValue:l(i),"onUpdate:modelValue":_[16]||(_[16]=R=>Hn(i)?i.value=R:null)},{default:$(()=>[y(E,{name:e[0],label:l(P)("Select Type")},{default:$(()=>[K("div",Fr,[y(Q,{type:"primary",onClick:_[0]||(_[0]=R=>c(!0))},{default:$(()=>[oe(D(l(Te)("btn","Single File")),1)]),_:1}),y(Q,{type:"primary",onClick:_[1]||(_[1]=R=>c(!1))},{default:$(()=>[oe(D(l(Te)("btn","Folder")),1)]),_:1})])]),_:1},8,["name","label"]),y(E,{name:e[1],label:l(P)("Add File")},{default:$(()=>[r.value?(N(),Y("div",Cr,[y(z,{ref_key:"uploadRef",ref:m,drag:"","auto-upload":!1,"file-list":v.value,"onUpdate:fileList":_[2]||(_[2]=R=>v.value=R),limit:1,"on-exceed":S},{default:$(()=>[kr,K("div",Tr,D(l(P)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])):(N(),Y("div",Pr,[y(z,{ref_key:"uploadRef",ref:m,drag:"","auto-upload":!1,"file-list":v.value,"onUpdate:fileList":_[3]||(_[3]=R=>v.value=R),multiple:""},{tip:$(()=>[K("div",Or,D(o?l(P)("Plsease select a folder."):l(b)),1)]),default:$(()=>[Nr,K("div",$r,D(l(P)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])),K("div",Br,[y(Q,{onClick:_[4]||(_[4]=R=>s.value--)},{default:$(()=>[oe(D(l(P)("Previous Step")),1)]),_:1}),v.value.length>0?(N(),Z(Q,{key:0,onClick:_[5]||(_[5]=R=>m.value?.clearFiles())},{default:$(()=>[oe(D(l(P)("Clear Files")),1)]),_:1})):X("",!0),y(Q,{disabled:v.value.length==0,type:"primary",onClick:V},{default:$(()=>[oe(D(l(P)("Next Step")),1)]),_:1},8,["disabled"])])]),_:1},8,["name","label"]),y(E,{name:e[2],label:l(P)("Settings")},{default:$(()=>[K("div",null,[y(gn,{model:f,"label-width":"120px"},{default:$(()=>[r.value?X("",!0):(N(),Z(ee,{key:0,label:l(P)("Folder Name")},{default:$(()=>[o?(N(),Z(te,{key:0},{default:$(()=>[oe(D(f.folderName),1)]),_:1})):(N(),Z(H,{key:1,modelValue:f.folderName,"onUpdate:modelValue":_[6]||(_[6]=R=>f.folderName=R)},null,8,["modelValue"]))]),_:1},8,["label"])),y(ee,{label:l(P)("File List")},{default:$(()=>[K("ul",null,[(N(!0),Y(Et,null,Dn(v.value,(R,wn)=>(N(),Y("li",null,[y(Q,{icon:l(Zn),onClick:Ir=>g(wn)},null,8,["icon","onClick"]),oe(" "+D(l(me)(l(Te)("file-size","{0} ({1})"),R.raw?.webkitRelativePath?R.raw?.webkitRelativePath:R.name,l(Je)(R.size))),1)]))),256))])]),_:1},8,["label"]),y(ee,{label:l(P)("Piece Size")},{default:$(()=>[y(mn,{modelValue:f.pieceSize,"onUpdate:modelValue":_[7]||(_[7]=R=>f.pieceSize=R),class:"w100%"},{default:$(()=>[y(ne,{label:l(P)("Auto"),value:0},null,8,["label"]),y(ne,{label:l(P)("16 KB"),value:16384},null,8,["label"]),y(ne,{label:l(P)("32 KB"),value:32768},null,8,["label"]),y(ne,{label:l(P)("64 KB"),value:65536},null,8,["label"]),y(ne,{label:l(P)("128 KB"),value:131072},null,8,["label"]),y(ne,{label:l(P)("256 KB"),value:262144},null,8,["label"]),y(ne,{label:l(P)("512 KB"),value:524288},null,8,["label"]),y(ne,{label:l(P)("1 MB"),value:1048576},null,8,["label"]),y(ne,{label:l(P)("2 MB"),value:2097152},null,8,["label"]),y(ne,{label:l(P)("4 MB"),value:4194304},null,8,["label"]),y(ne,{label:l(P)("8 MB"),value:8388608},null,8,["label"]),y(ne,{label:l(P)("16 MB"),value:16777216},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Is Private")},{default:$(()=>[y(Pt,{modelValue:f.isPrivate,"onUpdate:modelValue":_[8]||(_[8]=R=>f.isPrivate=R)},null,8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Creation Date")},{default:$(()=>[y(Pt,{modelValue:f.setCreation,"onUpdate:modelValue":_[9]||(_[9]=R=>f.setCreation=R)},null,8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Trackers")},{default:$(()=>[y(H,{modelValue:f.trackers,"onUpdate:modelValue":_[10]||(_[10]=R=>f.trackers=R),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Web Seeds")},{default:$(()=>[y(H,{modelValue:f.webSeeds,"onUpdate:modelValue":_[11]||(_[11]=R=>f.webSeeds=R),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Comment")},{default:$(()=>[y(H,{modelValue:f.comment,"onUpdate:modelValue":_[12]||(_[12]=R=>f.comment=R),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),y(ee,{label:l(P)("Source")},{default:$(()=>[y(H,{modelValue:f.source,"onUpdate:modelValue":_[13]||(_[13]=R=>f.source=R)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"]),K("div",qr,[y(Q,{onClick:_[14]||(_[14]=R=>s.value--)},{default:$(()=>[oe(D(l(P)("Previous Step")),1)]),_:1}),y(Q,{type:"primary",disabled:v.value.length==0,onClick:u},{default:$(()=>[oe(D(l(P)("Next Step")),1)]),_:1},8,["disabled"])])])]),_:1},8,["name","label"]),y(E,{name:e[3],label:l(P)("Generate")},{default:$(()=>[y(yn,{percentage:L.pct,status:L.status,"text-inside":!0,"stroke-width":26,class:"mb-4",striped:L.pct<100,"striped-flow":L.pct<100},null,8,["percentage","status","striped","striped-flow"]),K("div",Vr,[y(Q,{onClick:_[15]||(_[15]=R=>{s.value=2,T.value=!1,G.value=""})},{default:$(()=>[oe(D(l(P)("Previous Step")),1)]),_:1}),y(Q,{disabled:!T.value,type:"info",icon:ye.value?l(Kn):l(Gn),onClick:Oe},{default:$(()=>[oe(D(l(P)("Preview")),1)]),_:1},8,["disabled","icon"]),K("a",{ref_key:"downloadLink",ref:M,class:"hidden",id:"download"},D(l(P)("Download")),513),y(Q,{disabled:!T.value,type:"primary",onClick:ke},{default:$(()=>[oe(D(l(P)("Download")),1)]),_:1},8,["disabled"])]),ye.value?(N(),Z(ra,{key:0,data:xe.value,name:`${x.value.info.name}.torrent`},null,8,["data","name"])):X("",!0)]),_:1},8,["name","label"])]),_:1},8,["modelValue"])]),_:1})}}});const Mr=Qn(Ar,[["__scopeId","data-v-d3661630"]]);export{Mr as default};
