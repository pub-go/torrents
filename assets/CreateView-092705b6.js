import{i as Cn,s as kn,f as Fn,a as St,b as ve,c as xt,d as Se,e as Tn,g as we,h as qe,r as O,j as k,k as Z,u as me,w as te,l as Xt,p as tt,m as Ie,t as Qt,n as Et,o as $,q as H,v as pe,x as A,y as l,_ as he,z as De,A as Ce,B as dt,C as Ye,D as Oe,E as Ct,F as en,G as nt,H as p,I as kt,J as Re,K as tn,L as Pn,M as Nn,N as ft,O as lt,P as F,Q as Y,R as Be,S as ke,T as le,U as W,V as X,W as K,X as $n,Y as Me,Z as Ft,$ as _e,a0 as Tt,a1 as Pt,a2 as nn,a3 as et,a4 as je,a5 as de,a6 as Bn,a7 as an,a8 as sn,a9 as On,aa as Vn,ab as rn,ac as Ot,ad as Nt,ae as An,af as qn,ag as In,ah as Ln,ai as Ue,aj as Rn,ak as Vt,al as At,am as Mn,an as ln,ao as jn,ap as zn,aq as qt,ar as Un,as as Wn,at as Dn,au as It,av as Lt,aw as Kn,ax as Gn,ay as ce,az as E,aA as Ne,aB as Rt,aC as Hn,aD as Yn,aE as Zn,aF as Jn,aG as Xn,aH as Qn,aI as ea,aJ as ta,aK as na,aL as aa,aM as sa,aN as ra}from"./index-d18b80ce.js";import{b as la,u as at,C as Ke,i as ia,U as Ge,I as pt,a as oa,c as ua,d as ca,e as Ee,_ as da,E as fa,t as Mt,B as pa,f as va,g as ma,h as ga,j as ba,k as ya,l as ha}from"./DictEdit.vue_vue_type_script_setup_true_lang-45adb2a7.js";function vt(){if(!arguments.length)return[];var n=arguments[0];return Cn(n)?n:[n]}var wa=4;function jt(n){return la(n,wa)}const _a=(n,e,t)=>Fn(n.subTree).filter(i=>{var r;return St(i)&&((r=i.type)==null?void 0:r.name)===e&&!!i.component}).map(i=>i.component.uid).map(i=>t[i]).filter(i=>!!i),Sa=(n,e)=>{const t={},a=kn([]);return{children:a,addChild:r=>{t[r.uid]=r,a.value=_a(n,e,t)},removeChild:r=>{delete t[r],a.value=a.value.filter(o=>o.uid!==r)}}},xa=ve({size:{type:String,values:xt},disabled:Boolean}),Ea=ve({...xa,model:Object,rules:{type:Se(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Ca={validate:(n,e,t)=>(Tn(n)||we(n))&&qe(e)&&we(t)};function ka(){const n=O([]),e=k(()=>{if(!n.value.length)return"0";const i=Math.max(...n.value);return i?`${i}px`:""});function t(i){const r=n.value.indexOf(i);return r===-1&&e.value,r}function a(i,r){if(i&&r){const o=t(r);n.value.splice(o,1,i)}else i&&n.value.push(i)}function s(i){const r=t(i);r>-1&&n.value.splice(r,1)}return{autoLabelWidth:e,registerLabelWidth:a,deregisterLabelWidth:s}}const Je=(n,e)=>{const t=vt(e);return t.length>0?n.filter(a=>a.prop&&t.includes(a.prop)):n},Fa="ElForm",Ta=Z({name:Fa}),Pa=Z({...Ta,props:Ea,emits:Ca,setup(n,{expose:e,emit:t}){const a=n,s=[],i=at(),r=me("form"),o=k(()=>{const{labelPosition:f,inline:b}=a;return[r.b(),r.m(i.value||"default"),{[r.m(`label-${f}`)]:f,[r.m("inline")]:b}]}),c=f=>{s.push(f)},h=f=>{f.prop&&s.splice(s.indexOf(f),1)},g=(f=[])=>{a.model&&Je(s,f).forEach(b=>b.resetField())},m=(f=[])=>{Je(s,f).forEach(b=>b.clearValidate())},d=k(()=>!!a.model),S=f=>{if(s.length===0)return[];const b=Je(s,f);return b.length?b:[]},B=async f=>w(void 0,f),y=async(f=[])=>{if(!d.value)return!1;const b=S(f);if(b.length===0)return!0;let T={};for(const u of b)try{await u.validate("")}catch(P){T={...T,...P}}return Object.keys(T).length===0?!0:Promise.reject(T)},w=async(f=[],b)=>{const T=!De(b);try{const u=await y(f);return u===!0&&b?.(u),u}catch(u){if(u instanceof Error)throw u;const P=u;return a.scrollToError&&v(Object.keys(P)[0]),b?.(!1,P),T&&Promise.reject(P)}},v=f=>{var b;const T=Je(s,f)[0];T&&((b=T.$el)==null||b.scrollIntoView(a.scrollIntoViewOptions))};return te(()=>a.rules,()=>{a.validateOnRuleChange&&B().catch(f=>Xt())},{deep:!0}),tt(Et,Ie({...Qt(a),emit:t,resetFields:g,clearValidate:m,validateField:w,addField:c,removeField:h,...ka()})),e({validate:B,validateField:w,resetFields:g,clearValidate:m,scrollToField:v}),(f,b)=>($(),H("form",{class:A(l(o))},[pe(f.$slots,"default")],2))}});var Na=he(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function $e(){return $e=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},$e.apply(this,arguments)}function $a(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,He(n,e)}function mt(n){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(n)}function He(n,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},He(n,e)}function Ba(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qe(n,e,t){return Ba()?Qe=Reflect.construct.bind():Qe=function(s,i,r){var o=[null];o.push.apply(o,i);var c=Function.bind.apply(s,o),h=new c;return r&&He(h,r.prototype),h},Qe.apply(null,arguments)}function Oa(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function gt(n){var e=typeof Map=="function"?new Map:void 0;return gt=function(a){if(a===null||!Oa(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(a))return e.get(a);e.set(a,s)}function s(){return Qe(a,arguments,mt(this).constructor)}return s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),He(s,a)},gt(n)}var Va=/%[sdj%]/g,Aa=function(){};typeof process<"u"&&process.env;function bt(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var a=t.field;e[a]=e[a]||[],e[a].push(t)}),e}function fe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];var s=0,i=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var r=n.replace(Va,function(o){if(o==="%%")return"%";if(s>=i)return o;switch(o){case"%s":return String(t[s++]);case"%d":return Number(t[s++]);case"%j":try{return JSON.stringify(t[s++])}catch{return"[Circular]"}break;default:return o}});return r}return n}function qa(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function ne(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||qa(e)&&typeof n=="string"&&!n)}function Ia(n,e,t){var a=[],s=0,i=n.length;function r(o){a.push.apply(a,o||[]),s++,s===i&&t(a)}n.forEach(function(o){e(o,r)})}function zt(n,e,t){var a=0,s=n.length;function i(r){if(r&&r.length){t(r);return}var o=a;a=a+1,o<s?e(n[o],i):t([])}i([])}function La(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var Ut=function(n){$a(e,n);function e(t,a){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=a,s}return e}(gt(Error));function Ra(n,e,t,a,s){if(e.first){var i=new Promise(function(d,S){var B=function(v){return a(v),v.length?S(new Ut(v,bt(v))):d(s)},y=La(n);zt(y,t,B)});return i.catch(function(d){return d}),i}var r=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),c=o.length,h=0,g=[],m=new Promise(function(d,S){var B=function(w){if(g.push.apply(g,w),h++,h===c)return a(g),g.length?S(new Ut(g,bt(g))):d(s)};o.length||(a(g),d(s)),o.forEach(function(y){var w=n[y];r.indexOf(y)!==-1?zt(w,t,B):Ia(w,t,B)})});return m.catch(function(d){return d}),m}function Ma(n){return!!(n&&n.message!==void 0)}function ja(n,e){for(var t=n,a=0;a<e.length;a++){if(t==null)return t;t=t[e[a]]}return t}function Wt(n,e){return function(t){var a;return n.fullFields?a=ja(e,n.fullFields):a=e[t.field||n.fullField],Ma(t)?(t.field=t.field||n.fullField,t.fieldValue=a,t):{message:typeof t=="function"?t():t,fieldValue:a,field:t.field||n.fullField}}}function Dt(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];typeof a=="object"&&typeof n[t]=="object"?n[t]=$e({},n[t],a):n[t]=a}}return n}var on=function(e,t,a,s,i,r){e.required&&(!a.hasOwnProperty(e.field)||ne(t,r||e.type))&&s.push(fe(i.messages.required,e.fullField))},za=function(e,t,a,s,i){(/^\s+$/.test(t)||t==="")&&s.push(fe(i.messages.whitespace,e.fullField))},Xe,Ua=function(){if(Xe)return Xe;var n="[a-fA-F\\d:]",e=function(T){return T&&T.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+a+":){7}(?:"+a+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+a+":){6}(?:"+t+"|:"+a+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+a+":){5}(?::"+t+"|(?::"+a+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+a+":){4}(?:(?::"+a+"){0,1}:"+t+"|(?::"+a+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+a+":){3}(?:(?::"+a+"){0,2}:"+t+"|(?::"+a+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+a+":){2}(?:(?::"+a+"){0,3}:"+t+"|(?::"+a+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+a+":){1}(?:(?::"+a+"){0,4}:"+t+"|(?::"+a+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+a+"){0,5}:"+t+"|(?::"+a+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+t+"$)|(?:^"+s+"$)"),r=new RegExp("^"+t+"$"),o=new RegExp("^"+s+"$"),c=function(T){return T&&T.exact?i:new RegExp("(?:"+e(T)+t+e(T)+")|(?:"+e(T)+s+e(T)+")","g")};c.v4=function(b){return b&&b.exact?r:new RegExp(""+e(b)+t+e(b),"g")},c.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+s+e(b),"g")};var h="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",m=c.v4().source,d=c.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",B="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',f="(?:"+h+"|www\\.)"+g+"(?:localhost|"+m+"|"+d+"|"+S+B+y+")"+w+v;return Xe=new RegExp("(?:^"+f+"$)","i"),Xe},Kt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ze={integer:function(e){return ze.number(e)&&parseInt(e,10)===e},float:function(e){return ze.number(e)&&!ze.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!ze.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Kt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ua())},hex:function(e){return typeof e=="string"&&!!e.match(Kt.hex)}},Wa=function(e,t,a,s,i){if(e.required&&t===void 0){on(e,t,a,s,i);return}var r=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;r.indexOf(o)>-1?ze[o](t)||s.push(fe(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&s.push(fe(i.messages.types[o],e.fullField,e.type))},Da=function(e,t,a,s,i){var r=typeof e.len=="number",o=typeof e.min=="number",c=typeof e.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=t,m=null,d=typeof t=="number",S=typeof t=="string",B=Array.isArray(t);if(d?m="number":S?m="string":B&&(m="array"),!m)return!1;B&&(g=t.length),S&&(g=t.replace(h,"_").length),r?g!==e.len&&s.push(fe(i.messages[m].len,e.fullField,e.len)):o&&!c&&g<e.min?s.push(fe(i.messages[m].min,e.fullField,e.min)):c&&!o&&g>e.max?s.push(fe(i.messages[m].max,e.fullField,e.max)):o&&c&&(g<e.min||g>e.max)&&s.push(fe(i.messages[m].range,e.fullField,e.min,e.max))},Ve="enum",Ka=function(e,t,a,s,i){e[Ve]=Array.isArray(e[Ve])?e[Ve]:[],e[Ve].indexOf(t)===-1&&s.push(fe(i.messages[Ve],e.fullField,e[Ve].join(", ")))},Ga=function(e,t,a,s,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||s.push(fe(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var r=new RegExp(e.pattern);r.test(t)||s.push(fe(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},L={required:on,whitespace:za,type:Wa,range:Da,enum:Ka,pattern:Ga},Ha=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t,"string")&&!e.required)return a();L.required(e,t,s,r,i,"string"),ne(t,"string")||(L.type(e,t,s,r,i),L.range(e,t,s,r,i),L.pattern(e,t,s,r,i),e.whitespace===!0&&L.whitespace(e,t,s,r,i))}a(r)},Ya=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&L.type(e,t,s,r,i)}a(r)},Za=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&(L.type(e,t,s,r,i),L.range(e,t,s,r,i))}a(r)},Ja=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&L.type(e,t,s,r,i)}a(r)},Xa=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),ne(t)||L.type(e,t,s,r,i)}a(r)},Qa=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&(L.type(e,t,s,r,i),L.range(e,t,s,r,i))}a(r)},es=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&(L.type(e,t,s,r,i),L.range(e,t,s,r,i))}a(r)},ts=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return a();L.required(e,t,s,r,i,"array"),t!=null&&(L.type(e,t,s,r,i),L.range(e,t,s,r,i))}a(r)},ns=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&L.type(e,t,s,r,i)}a(r)},as="enum",ss=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i),t!==void 0&&L[as](e,t,s,r,i)}a(r)},rs=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t,"string")&&!e.required)return a();L.required(e,t,s,r,i),ne(t,"string")||L.pattern(e,t,s,r,i)}a(r)},ls=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t,"date")&&!e.required)return a();if(L.required(e,t,s,r,i),!ne(t,"date")){var c;t instanceof Date?c=t:c=new Date(t),L.type(e,c,s,r,i),c&&L.range(e,c.getTime(),s,r,i)}}a(r)},is=function(e,t,a,s,i){var r=[],o=Array.isArray(t)?"array":typeof t;L.required(e,t,s,r,i,o),a(r)},it=function(e,t,a,s,i){var r=e.type,o=[],c=e.required||!e.required&&s.hasOwnProperty(e.field);if(c){if(ne(t,r)&&!e.required)return a();L.required(e,t,s,o,i,r),ne(t,r)||L.type(e,t,s,o,i)}a(o)},os=function(e,t,a,s,i){var r=[],o=e.required||!e.required&&s.hasOwnProperty(e.field);if(o){if(ne(t)&&!e.required)return a();L.required(e,t,s,r,i)}a(r)},We={string:Ha,method:Ya,number:Za,boolean:Ja,regexp:Xa,integer:Qa,float:es,array:ts,object:ns,enum:ss,pattern:rs,date:ls,url:it,hex:it,email:it,required:is,any:os};function yt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ht=yt(),Ze=function(){function n(t){this.rules=null,this._messages=ht,this.define(t)}var e=n.prototype;return e.define=function(a){var s=this;if(!a)throw new Error("Cannot configure a schema with no rules");if(typeof a!="object"||Array.isArray(a))throw new Error("Rules must be an object");this.rules={},Object.keys(a).forEach(function(i){var r=a[i];s.rules[i]=Array.isArray(r)?r:[r]})},e.messages=function(a){return a&&(this._messages=Dt(yt(),a)),this._messages},e.validate=function(a,s,i){var r=this;s===void 0&&(s={}),i===void 0&&(i=function(){});var o=a,c=s,h=i;if(typeof c=="function"&&(h=c,c={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,o),Promise.resolve(o);function g(y){var w=[],v={};function f(T){if(Array.isArray(T)){var u;w=(u=w).concat.apply(u,T)}else w.push(T)}for(var b=0;b<y.length;b++)f(y[b]);w.length?(v=bt(w),h(w,v)):h(null,o)}if(c.messages){var m=this.messages();m===ht&&(m=yt()),Dt(m,c.messages),c.messages=m}else c.messages=this.messages();var d={},S=c.keys||Object.keys(this.rules);S.forEach(function(y){var w=r.rules[y],v=o[y];w.forEach(function(f){var b=f;typeof b.transform=="function"&&(o===a&&(o=$e({},o)),v=o[y]=b.transform(v)),typeof b=="function"?b={validator:b}:b=$e({},b),b.validator=r.getValidationMethod(b),b.validator&&(b.field=y,b.fullField=b.fullField||y,b.type=r.getType(b),d[y]=d[y]||[],d[y].push({rule:b,value:v,source:o,field:y}))})});var B={};return Ra(d,c,function(y,w){var v=y.rule,f=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");f=f&&(v.required||!v.required&&y.value),v.field=y.field;function b(P,N){return $e({},N,{fullField:v.fullField+"."+P,fullFields:v.fullFields?[].concat(v.fullFields,[P]):[P]})}function T(P){P===void 0&&(P=[]);var N=Array.isArray(P)?P:[P];!c.suppressWarning&&N.length&&n.warning("async-validator:",N),N.length&&v.message!==void 0&&(N=[].concat(v.message));var R=N.map(Wt(v,o));if(c.first&&R.length)return B[v.field]=1,w(R);if(!f)w(R);else{if(v.required&&!y.value)return v.message!==void 0?R=[].concat(v.message).map(Wt(v,o)):c.error&&(R=[c.error(v,fe(c.messages.required,v.field))]),w(R);var q={};v.defaultField&&Object.keys(y.value).map(function(j){q[j]=v.defaultField}),q=$e({},q,y.rule.fields);var U={};Object.keys(q).forEach(function(j){var z=q[j],G=Array.isArray(z)?z:[z];U[j]=G.map(b.bind(null,j))});var C=new n(U);C.messages(c.messages),y.rule.options&&(y.rule.options.messages=c.messages,y.rule.options.error=c.error),C.validate(y.value,y.rule.options||c,function(j){var z=[];R&&R.length&&z.push.apply(z,R),j&&j.length&&z.push.apply(z,j),w(z.length?z:null)})}}var u;if(v.asyncValidator)u=v.asyncValidator(v,y.value,T,y.source,c);else if(v.validator){try{u=v.validator(v,y.value,T,y.source,c)}catch(P){console.error?.(P),c.suppressValidatorError||setTimeout(function(){throw P},0),T(P.message)}u===!0?T():u===!1?T(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):u instanceof Array?T(u):u instanceof Error&&T(u.message)}u&&u.then&&u.then(function(){return T()},function(P){return T(P)})},function(y){g(y)},o)},e.getType=function(a){if(a.type===void 0&&a.pattern instanceof RegExp&&(a.type="pattern"),typeof a.validator!="function"&&a.type&&!We.hasOwnProperty(a.type))throw new Error(fe("Unknown rule type %s",a.type));return a.type||"string"},e.getValidationMethod=function(a){if(typeof a.validator=="function")return a.validator;var s=Object.keys(a),i=s.indexOf("message");return i!==-1&&s.splice(i,1),s.length===1&&s[0]==="required"?We.required:We[this.getType(a)]||void 0},n}();Ze.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");We[e]=t};Ze.warning=Aa;Ze.messages=ht;Ze.validators=We;const us=["","error","validating","success"],cs=ve({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Se([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Se([Object,Array])},error:String,validateStatus:{type:String,values:us},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:xt}}),Gt="ElLabelWrap";var ds=Z({name:Gt,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Ce(Et,void 0),a=Ce(dt);a||Ye(Gt,"usage: <el-form-item><label-wrap /></el-form-item>");const s=me("form"),i=O(),r=O(0),o=()=>{var g;if((g=i.value)!=null&&g.firstElementChild){const m=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(m))}else return 0},c=(g="update")=>{Re(()=>{e.default&&n.isAutoWidth&&(g==="update"?r.value=o():g==="remove"&&t?.deregisterLabelWidth(r.value))})},h=()=>c("update");return Oe(()=>{h()}),Ct(()=>{c("remove")}),en(()=>h()),te(r,(g,m)=>{n.updateAll&&t?.registerLabelWidth(g,m)}),nt(k(()=>{var g,m;return(m=(g=i.value)==null?void 0:g.firstElementChild)!=null?m:null}),h),()=>{var g,m;if(!e)return null;const{isAutoWidth:d}=n;if(d){const S=t?.autoLabelWidth,B=a?.hasLabel,y={};if(B&&S&&S!=="auto"){const w=Math.max(0,Number.parseInt(S,10)-r.value),v=t.labelPosition==="left"?"marginRight":"marginLeft";w&&(y[v]=`${w}px`)}return p("div",{ref:i,class:[s.be("item","label-wrap")],style:y},[(g=e.default)==null?void 0:g.call(e)])}else return p(kt,{ref:i},[(m=e.default)==null?void 0:m.call(e)])}}});const fs=["role","aria-labelledby"],ps=Z({name:"ElFormItem"}),vs=Z({...ps,props:cs,setup(n,{expose:e}){const t=n,a=tn(),s=Ce(Et,void 0),i=Ce(dt,void 0),r=at(void 0,{formItem:!1}),o=me("form-item"),c=Pn().value,h=O([]),g=O(""),m=Nn(g,100),d=O(""),S=O();let B,y=!1;const w=k(()=>{if(s?.labelPosition==="top")return{};const x=ft(t.labelWidth||s?.labelWidth||"");return x?{width:x}:{}}),v=k(()=>{if(s?.labelPosition==="top"||s?.inline)return{};if(!t.label&&!t.labelWidth&&q)return{};const x=ft(t.labelWidth||s?.labelWidth||"");return!t.label&&!a.label?{marginLeft:x}:{}}),f=k(()=>[o.b(),o.m(r.value),o.is("error",g.value==="error"),o.is("validating",g.value==="validating"),o.is("success",g.value==="success"),o.is("required",G.value||t.required),o.is("no-asterisk",s?.hideRequiredAsterisk),s?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:s?.statusIcon}]),b=k(()=>qe(t.inlineMessage)?t.inlineMessage:s?.inlineMessage||!1),T=k(()=>[o.e("error"),{[o.em("error","inline")]:b.value}]),u=k(()=>t.prop?we(t.prop)?t.prop:t.prop.join("."):""),P=k(()=>!!(t.label||a.label)),N=k(()=>t.for||h.value.length===1?h.value[0]:void 0),R=k(()=>!N.value&&P.value),q=!!i,U=k(()=>{const x=s?.model;if(!(!x||!t.prop))return lt(x,t.prop).value}),C=k(()=>{const{required:x}=t,M=[];t.rules&&M.push(...vt(t.rules));const ee=s?.rules;if(ee&&t.prop){const Q=lt(ee,t.prop).value;Q&&M.push(...vt(Q))}if(x!==void 0){const Q=M.map((se,re)=>[se,re]).filter(([se])=>Object.keys(se).includes("required"));if(Q.length>0)for(const[se,re]of Q)se.required!==x&&(M[re]={...se,required:x});else M.push({required:x})}return M}),j=k(()=>C.value.length>0),z=x=>C.value.filter(ee=>!ee.trigger||!x?!0:Array.isArray(ee.trigger)?ee.trigger.includes(x):ee.trigger===x).map(({trigger:ee,...Q})=>Q),G=k(()=>C.value.some(x=>x.required)),oe=k(()=>{var x;return m.value==="error"&&t.showMessage&&((x=s?.showMessage)!=null?x:!0)}),ae=k(()=>`${t.label||""}${s?.labelSuffix||""}`),D=x=>{g.value=x},xe=x=>{var M,ee;const{errors:Q,fields:se}=x;(!Q||!se)&&console.error(x),D("error"),d.value=Q?(ee=(M=Q?.[0])==null?void 0:M.message)!=null?ee:`${t.prop} is required`:"",s?.emit("validate",t.prop,!1,d.value)},Fe=()=>{D("success"),s?.emit("validate",t.prop,!0,"")},ge=async x=>{const M=u.value;return new Ze({[M]:x}).validate({[M]:U.value},{firstFields:!0}).then(()=>(Fe(),!0)).catch(Q=>(xe(Q),Promise.reject(Q)))},Te=async(x,M)=>{if(y||!t.prop)return!1;const ee=De(M);if(!j.value)return M?.(!1),!1;const Q=z(x);return Q.length===0?(M?.(!0),!0):(D("validating"),ge(Q).then(()=>(M?.(!0),!0)).catch(se=>{const{fields:re}=se;return M?.(!1,re),ee?!1:Promise.reject(re)}))},Pe=()=>{D(""),d.value="",y=!1},V=async()=>{const x=s?.model;if(!x||!t.prop)return;const M=lt(x,t.prop);y=!0,M.value=jt(B),await Re(),Pe(),y=!1},_=x=>{h.value.includes(x)||h.value.push(x)},ye=x=>{h.value=h.value.filter(M=>M!==x)};te(()=>t.error,x=>{d.value=x||"",D(x?"error":"")},{immediate:!0}),te(()=>t.validateStatus,x=>D(x||""));const ie=Ie({...Qt(t),$el:S,size:r,validateState:g,labelId:c,inputIds:h,isGroup:R,hasLabel:P,addInputId:_,removeInputId:ye,resetField:V,clearValidate:Pe,validate:Te});return tt(dt,ie),Oe(()=>{t.prop&&(s?.addField(ie),B=jt(U.value))}),Ct(()=>{s?.removeField(ie)}),e({size:r,validateMessage:d,validateState:g,validate:Te,clearValidate:Pe,resetField:V}),(x,M)=>{var ee;return $(),H("div",{ref_key:"formItemRef",ref:S,class:A(l(f)),role:l(R)?"group":void 0,"aria-labelledby":l(R)?l(c):void 0},[p(l(ds),{"is-auto-width":l(w).width==="auto","update-all":((ee=l(s))==null?void 0:ee.labelWidth)==="auto"},{default:F(()=>[l(P)?($(),Y(Be(l(N)?"label":"div"),{key:0,id:l(c),for:l(N),class:A(l(o).e("label")),style:ke(l(w))},{default:F(()=>[pe(x.$slots,"label",{label:l(ae)},()=>[le(W(l(ae)),1)])]),_:3},8,["id","for","class","style"])):X("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),K("div",{class:A(l(o).e("content")),style:ke(l(v))},[pe(x.$slots,"default"),p($n,{name:`${l(o).namespace.value}-zoom-in-top`},{default:F(()=>[l(oe)?pe(x.$slots,"error",{key:0,error:d.value},()=>[K("div",{class:A(l(T))},W(d.value),3)]):X("v-if",!0)]),_:3},8,["name"])],6)],10,fs)}}});var un=he(vs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const ms=Me(Na,{FormItem:un}),gs=Ft(un),bs=ve({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ys=["textContent"],hs=Z({name:"ElBadge"}),ws=Z({...hs,props:bs,setup(n,{expose:e}){const t=n,a=me("badge"),s=k(()=>t.isDot?"":_e(t.value)&&_e(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return e({content:s}),(i,r)=>($(),H("div",{class:A(l(a).b())},[pe(i.$slots,"default"),p(nn,{name:`${l(a).namespace.value}-zoom-in-center`,persisted:""},{default:F(()=>[Tt(K("sup",{class:A([l(a).e("content"),l(a).em("content",i.type),l(a).is("fixed",!!i.$slots.default),l(a).is("dot",i.isDot)]),textContent:W(l(s))},null,10,ys),[[Pt,!i.hidden&&(l(s)||i.isDot)]])]),_:1},8,["name"])],2))}});var _s=he(ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ss=Me(_s),xs=ve({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Es={[Ke]:(n,e)=>[n,e].every(_e)},Cs=Z({name:"ElSteps"}),ks=Z({...Cs,props:xs,emits:Es,setup(n,{emit:e}){const t=n,a=me("steps"),s=O([]);return te(s,()=>{s.value.forEach((i,r)=>{i.setIndex(r)})}),tt("ElSteps",{props:t,steps:s}),te(()=>t.active,(i,r)=>{e(Ke,i,r)}),(i,r)=>($(),H("div",{class:A([l(a).b(),l(a).m(i.simple?"simple":i.direction)])},[pe(i.$slots,"default")],2))}});var Fs=he(ks,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const Ts=ve({title:{type:String,default:""},icon:{type:et},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Ps=Z({name:"ElStep"}),Ns=Z({...Ps,props:Ts,setup(n){const e=n,t=me("step"),a=O(-1),s=O({}),i=O(""),r=Ce("ElSteps"),o=je();Oe(()=>{te([()=>r.props.active,()=>r.props.processStatus,()=>r.props.finishStatus],([u])=>{b(u)},{immediate:!0})}),Ct(()=>{r.steps.value=r.steps.value.filter(u=>u.uid!==o?.uid)});const c=k(()=>e.status||i.value),h=k(()=>{const u=r.steps.value[a.value-1];return u?u.currentStatus:"wait"}),g=k(()=>r.props.alignCenter),m=k(()=>r.props.direction==="vertical"),d=k(()=>r.props.simple),S=k(()=>r.steps.value.length),B=k(()=>{var u;return((u=r.steps.value[S.value-1])==null?void 0:u.uid)===o?.uid}),y=k(()=>d.value?"":r.props.space),w=k(()=>{const u={flexBasis:_e(y.value)?`${y.value}px`:y.value?y.value:`${100/(S.value-(g.value?0:1))}%`};return m.value||B.value&&(u.maxWidth=`${100/S.value}%`),u}),v=u=>{a.value=u},f=u=>{const P=u==="wait",N={transitionDelay:`${P?"-":""}${150*a.value}ms`},R=u===r.props.processStatus||P?0:100;N.borderWidth=R&&!d.value?"1px":0,N[r.props.direction==="vertical"?"height":"width"]=`${R}%`,s.value=N},b=u=>{u>a.value?i.value=r.props.finishStatus:u===a.value&&h.value!=="error"?i.value=r.props.processStatus:i.value="wait";const P=r.steps.value[a.value-1];P&&P.calcProgress(i.value)},T=Ie({uid:k(()=>o?.uid),currentStatus:c,setIndex:v,calcProgress:f});return r.steps.value=[...r.steps.value,T],(u,P)=>($(),H("div",{style:ke(l(w)),class:A([l(t).b(),l(t).is(l(d)?"simple":l(r).props.direction),l(t).is("flex",l(B)&&!l(y)&&!l(g)),l(t).is("center",l(g)&&!l(m)&&!l(d))])},[X(" icon & line "),K("div",{class:A([l(t).e("head"),l(t).is(l(c))])},[l(d)?X("v-if",!0):($(),H("div",{key:0,class:A(l(t).e("line"))},[K("i",{class:A(l(t).e("line-inner")),style:ke(s.value)},null,6)],2)),K("div",{class:A([l(t).e("icon"),l(t).is(u.icon||u.$slots.icon?"icon":"text")])},[pe(u.$slots,"icon",{},()=>[u.icon?($(),Y(l(de),{key:0,class:A(l(t).e("icon-inner"))},{default:F(()=>[($(),Y(Be(u.icon)))]),_:1},8,["class"])):l(c)==="success"?($(),Y(l(de),{key:1,class:A([l(t).e("icon-inner"),l(t).is("status")])},{default:F(()=>[p(l(Bn))]),_:1},8,["class"])):l(c)==="error"?($(),Y(l(de),{key:2,class:A([l(t).e("icon-inner"),l(t).is("status")])},{default:F(()=>[p(l(an))]),_:1},8,["class"])):l(d)?X("v-if",!0):($(),H("div",{key:3,class:A(l(t).e("icon-inner"))},W(a.value+1),3))])],2)],2),X(" title & description "),K("div",{class:A(l(t).e("main"))},[K("div",{class:A([l(t).e("title"),l(t).is(l(c))])},[pe(u.$slots,"title",{},()=>[le(W(u.title),1)])],2),l(d)?($(),H("div",{key:0,class:A(l(t).e("arrow"))},null,2)):($(),H("div",{key:1,class:A([l(t).e("description"),l(t).is(l(c))])},[pe(u.$slots,"description",{},()=>[le(W(u.description),1)])],2))],2)],6))}});var cn=he(Ns,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const $s=Me(Fs,{Step:cn}),Bs=Ft(cn),Os=ve({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:et},inactiveIcon:{type:et},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Se(Function)},size:{type:String,validator:ia},tabindex:{type:[String,Number]}}),Vs={[Ge]:n=>qe(n)||we(n)||_e(n),[Ke]:n=>qe(n)||we(n)||_e(n),[pt]:n=>qe(n)||we(n)||_e(n)},As=["onClick"],qs=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Is=["aria-hidden"],Ls=["aria-hidden"],Rs=["aria-hidden"],wt="ElSwitch",Ms=Z({name:wt}),js=Z({...Ms,props:Os,emits:Vs,setup(n,{expose:e,emit:t}){const a=n,s=je(),{formItem:i}=oa(),r=at(),o=me("switch");sn({from:'"value"',replacement:'"model-value" or "v-model"',scope:wt,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},k(()=>{var u;return!!((u=s.vnode.props)!=null&&u.value)}));const{inputId:c}=ua(a,{formItemContext:i}),h=ca(k(()=>a.loading)),g=O(a.modelValue!==!1),m=O(),d=O(),S=k(()=>[o.b(),o.m(r.value),o.is("disabled",h.value),o.is("checked",w.value)]),B=k(()=>({width:ft(a.width)}));te(()=>a.modelValue,()=>{g.value=!0}),te(()=>a.value,()=>{g.value=!1});const y=k(()=>g.value?a.modelValue:a.value),w=k(()=>y.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(y.value)||(t(Ge,a.inactiveValue),t(Ke,a.inactiveValue),t(pt,a.inactiveValue)),te(w,u=>{var P;m.value.checked=u,a.validateEvent&&((P=i?.validate)==null||P.call(i,"change").catch(N=>Xt()))});const v=()=>{const u=w.value?a.inactiveValue:a.activeValue;t(Ge,u),t(Ke,u),t(pt,u),Re(()=>{m.value.checked=w.value})},f=()=>{if(h.value)return;const{beforeChange:u}=a;if(!u){v();return}const P=u();[Ot(P),qe(P)].includes(!0)||Ye(wt,"beforeChange must return type `Promise<boolean>` or `boolean`"),Ot(P)?P.then(R=>{R&&v()}).catch(R=>{}):P&&v()},b=k(()=>o.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),T=()=>{var u,P;(P=(u=m.value)==null?void 0:u.focus)==null||P.call(u)};return Oe(()=>{m.value.checked=w.value}),e({focus:T,checked:w}),(u,P)=>($(),H("div",{class:A(l(S)),style:ke(l(b)),onClick:rn(f,["prevent"])},[K("input",{id:l(c),ref_key:"input",ref:m,class:A(l(o).e("input")),type:"checkbox",role:"switch","aria-checked":l(w),"aria-disabled":l(h),name:u.name,"true-value":u.activeValue,"false-value":u.inactiveValue,disabled:l(h),tabindex:u.tabindex,onChange:v,onKeydown:On(f,["enter"])},null,42,qs),!u.inlinePrompt&&(u.inactiveIcon||u.inactiveText)?($(),H("span",{key:0,class:A([l(o).e("label"),l(o).em("label","left"),l(o).is("active",!l(w))])},[u.inactiveIcon?($(),Y(l(de),{key:0},{default:F(()=>[($(),Y(Be(u.inactiveIcon)))]),_:1})):X("v-if",!0),!u.inactiveIcon&&u.inactiveText?($(),H("span",{key:1,"aria-hidden":l(w)},W(u.inactiveText),9,Is)):X("v-if",!0)],2)):X("v-if",!0),K("span",{ref_key:"core",ref:d,class:A(l(o).e("core")),style:ke(l(B))},[u.inlinePrompt?($(),H("div",{key:0,class:A(l(o).e("inner"))},[u.activeIcon||u.inactiveIcon?($(),Y(l(de),{key:0,class:A(l(o).is("icon"))},{default:F(()=>[($(),Y(Be(l(w)?u.activeIcon:u.inactiveIcon)))]),_:1},8,["class"])):u.activeText||u.inactiveText?($(),H("span",{key:1,class:A(l(o).is("text")),"aria-hidden":!l(w)},W(l(w)?u.activeText:u.inactiveText),11,Ls)):X("v-if",!0)],2)):X("v-if",!0),K("div",{class:A(l(o).e("action"))},[u.loading?($(),Y(l(de),{key:0,class:A(l(o).is("loading"))},{default:F(()=>[p(l(Vn))]),_:1},8,["class"])):X("v-if",!0)],2)],6),!u.inlinePrompt&&(u.activeIcon||u.activeText)?($(),H("span",{key:1,class:A([l(o).e("label"),l(o).em("label","right"),l(o).is("active",l(w))])},[u.activeIcon?($(),Y(l(de),{key:0},{default:F(()=>[($(),Y(Be(u.activeIcon)))]),_:1})):X("v-if",!0),!u.activeIcon&&u.activeText?($(),H("span",{key:1,"aria-hidden":!l(w)},W(u.activeText),9,Rs)):X("v-if",!0)],2)):X("v-if",!0)],14,As))}});var zs=he(js,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Us=Me(zs),st=Symbol("tabsRootContextKey"),Ws=ve({tabs:{type:Se(Array),default:()=>Nt([])}}),dn="ElTabBar",Ds=Z({name:dn}),Ks=Z({...Ds,props:Ws,setup(n,{expose:e}){const t=n,a=je(),s=Ce(st);s||Ye(dn,"<el-tabs><el-tab-bar /></el-tabs>");const i=me("tabs"),r=O(),o=O(),c=()=>{let g=0,m=0;const d=["top","bottom"].includes(s.props.tabPosition)?"width":"height",S=d==="width"?"x":"y",B=S==="x"?"left":"top";return t.tabs.every(y=>{var w,v;const f=(v=(w=a.parent)==null?void 0:w.refs)==null?void 0:v[`tab-${y.uid}`];if(!f)return!1;if(!y.active)return!0;g=f[`offset${Ee(B)}`],m=f[`client${Ee(d)}`];const b=window.getComputedStyle(f);return d==="width"&&(t.tabs.length>1&&(m-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),g+=Number.parseFloat(b.paddingLeft)),!1}),{[d]:`${m}px`,transform:`translate${Ee(S)}(${g}px)`}},h=()=>o.value=c();return te(()=>t.tabs,async()=>{await Re(),h()},{immediate:!0}),nt(r,()=>h()),e({ref:r,update:h}),(g,m)=>($(),H("div",{ref_key:"barRef",ref:r,class:A([l(i).e("active-bar"),l(i).is(l(s).props.tabPosition)]),style:ke(o.value)},null,6))}});var Gs=he(Ks,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Hs=ve({panes:{type:Se(Array),default:()=>Nt([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ys={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},Ht="ElTabNav",Zs=Z({name:Ht,props:Hs,emits:Ys,setup(n,{expose:e,emit:t}){const a=je(),s=Ce(st);s||Ye(Ht,"<el-tabs><tab-nav /></el-tabs>");const i=me("tabs"),r=An(),o=qn(),c=O(),h=O(),g=O(),m=O(),d=O(!1),S=O(0),B=O(!1),y=O(!0),w=k(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),v=k(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${S.value}px)`})),f=()=>{if(!c.value)return;const q=c.value[`offset${Ee(w.value)}`],U=S.value;if(!U)return;const C=U>q?U-q:0;S.value=C},b=()=>{if(!c.value||!h.value)return;const q=h.value[`offset${Ee(w.value)}`],U=c.value[`offset${Ee(w.value)}`],C=S.value;if(q-C<=U)return;const j=q-C>U*2?C+U:q-U;S.value=j},T=async()=>{const q=h.value;if(!d.value||!g.value||!c.value||!q)return;await Re();const U=g.value.querySelector(".is-active");if(!U)return;const C=c.value,j=["top","bottom"].includes(s.props.tabPosition),z=U.getBoundingClientRect(),G=C.getBoundingClientRect(),oe=j?q.offsetWidth-G.width:q.offsetHeight-G.height,ae=S.value;let D=ae;j?(z.left<G.left&&(D=ae-(G.left-z.left)),z.right>G.right&&(D=ae+z.right-G.right)):(z.top<G.top&&(D=ae-(G.top-z.top)),z.bottom>G.bottom&&(D=ae+(z.bottom-G.bottom))),D=Math.max(D,0),S.value=Math.min(D,oe)},u=()=>{var q;if(!h.value||!c.value)return;n.stretch&&((q=m.value)==null||q.update());const U=h.value[`offset${Ee(w.value)}`],C=c.value[`offset${Ee(w.value)}`],j=S.value;C<U?(d.value=d.value||{},d.value.prev=j,d.value.next=j+C<U,U-j<C&&(S.value=U-C)):(d.value=!1,j>0&&(S.value=0))},P=q=>{const U=q.code,{up:C,down:j,left:z,right:G}=Ue;if(![C,j,z,G].includes(U))return;const oe=Array.from(q.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),ae=oe.indexOf(q.target);let D;U===z||U===C?ae===0?D=oe.length-1:D=ae-1:ae<oe.length-1?D=ae+1:D=0,oe[D].focus({preventScroll:!0}),oe[D].click(),N()},N=()=>{y.value&&(B.value=!0)},R=()=>B.value=!1;return te(r,q=>{q==="hidden"?y.value=!1:q==="visible"&&setTimeout(()=>y.value=!0,50)}),te(o,q=>{q?setTimeout(()=>y.value=!0,50):y.value=!1}),nt(g,u),Oe(()=>setTimeout(()=>T(),0)),en(()=>u()),e({scrollToActiveTab:T,removeFocus:R}),te(()=>n.panes,()=>a.update(),{flush:"post",deep:!0}),()=>{const q=d.value?[p("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:f},[p(de,null,{default:()=>[p(In,null,null)]})]),p("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:b},[p(de,null,{default:()=>[p(Ln,null,null)]})])]:null,U=n.panes.map((C,j)=>{var z,G,oe,ae;const D=C.uid,xe=C.props.disabled,Fe=(G=(z=C.props.name)!=null?z:C.index)!=null?G:`${j}`,ge=!xe&&(C.isClosable||n.editable);C.index=`${j}`;const Te=ge?p(de,{class:"is-icon-close",onClick:_=>t("tabRemove",C,_)},{default:()=>[p(an,null,null)]}):null,Pe=((ae=(oe=C.slots).label)==null?void 0:ae.call(oe))||C.props.label,V=!xe&&C.active?0:-1;return p("div",{ref:`tab-${D}`,class:[i.e("item"),i.is(s.props.tabPosition),i.is("active",C.active),i.is("disabled",xe),i.is("closable",ge),i.is("focus",B.value)],id:`tab-${Fe}`,key:`tab-${D}`,"aria-controls":`pane-${Fe}`,role:"tab","aria-selected":C.active,tabindex:V,onFocus:()=>N(),onBlur:()=>R(),onClick:_=>{R(),t("tabClick",C,Fe,_)},onKeydown:_=>{ge&&(_.code===Ue.delete||_.code===Ue.backspace)&&t("tabRemove",C,_)}},[Pe,Te])});return p("div",{ref:g,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(s.props.tabPosition)]},[q,p("div",{class:i.e("nav-scroll"),ref:c},[p("div",{class:[i.e("nav"),i.is(s.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:h,style:v.value,role:"tablist",onKeydown:P},[n.type?null:p(Gs,{ref:m,tabs:[...n.panes]},null),U])])])}}}),Js=ve({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Se(Function),default:()=>!0},stretch:Boolean}),ot=n=>we(n)||_e(n),Xs={[Ge]:n=>ot(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>ot(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>ot(n),tabAdd:()=>!0};var Qs=Z({name:"ElTabs",props:Js,emits:Xs,setup(n,{emit:e,slots:t,expose:a}){var s,i;const r=me("tabs"),{children:o,addChild:c,removeChild:h}=Sa(je(),"ElTabPane"),g=O(),m=O((i=(s=n.modelValue)!=null?s:n.activeName)!=null?i:"0"),d=v=>{m.value=v,e(Ge,v),e("tabChange",v)},S=async v=>{var f,b,T;if(!(m.value===v||Vt(v)))try{await((f=n.beforeLeave)==null?void 0:f.call(n,v,m.value))!==!1&&(d(v),(T=(b=g.value)==null?void 0:b.removeFocus)==null||T.call(b))}catch{}},B=(v,f,b)=>{v.props.disabled||(S(f),e("tabClick",v,b))},y=(v,f)=>{v.props.disabled||Vt(v.props.name)||(f.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},w=()=>{e("edit",void 0,"add"),e("tabAdd")};return sn({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},k(()=>!!n.activeName)),te(()=>n.activeName,v=>S(v)),te(()=>n.modelValue,v=>S(v)),te(m,async()=>{var v;await Re(),(v=g.value)==null||v.scrollToActiveTab()}),tt(st,{props:n,currentName:m,registerPane:c,unregisterPane:h}),a({currentName:m}),()=>{const v=n.editable||n.addable?p("span",{class:r.e("new-tab"),tabindex:"0",onClick:w,onKeydown:T=>{T.code===Ue.enter&&w()}},[p(de,{class:r.is("icon-plus")},{default:()=>[p(Rn,null,null)]})]):null,f=p("div",{class:[r.e("header"),r.is(n.tabPosition)]},[v,p(Zs,{ref:g,currentName:m.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:B,onTabRemove:y},null)]),b=p("div",{class:r.e("content")},[pe(t,"default")]);return p("div",{class:[r.b(),r.m(n.tabPosition),{[r.m("card")]:n.type==="card",[r.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[f,b]:[b,f]])}}});const er=ve({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),tr=["id","aria-hidden","aria-labelledby"],fn="ElTabPane",nr=Z({name:fn}),ar=Z({...nr,props:er,setup(n){const e=n,t=je(),a=tn(),s=Ce(st);s||Ye(fn,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=me("tab-pane"),r=O(),o=k(()=>e.closable||s.props.closable),c=At(()=>{var S;return s.currentName.value===((S=e.name)!=null?S:r.value)}),h=O(c.value),g=k(()=>{var S;return(S=e.name)!=null?S:r.value}),m=At(()=>!e.lazy||h.value||c.value);te(c,S=>{S&&(h.value=!0)});const d=Ie({uid:t.uid,slots:a,props:e,paneName:g,active:c,index:r,isClosable:o});return Oe(()=>{s.registerPane(d)}),Mn(()=>{s.unregisterPane(d.uid)}),(S,B)=>l(m)?Tt(($(),H("div",{key:0,id:`pane-${l(g)}`,class:A(l(i).b()),role:"tabpanel","aria-hidden":!l(c),"aria-labelledby":`tab-${l(g)}`},[pe(S.$slots,"default")],10,tr)),[[Pt,l(c)]]):X("v-if",!0)}});var pn=he(ar,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const sr=Me(Qs,{TabPane:pn}),rr=Ft(pn),lr=ve({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:xt,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),ir=Z({name:"ElText"}),or=Z({...ir,props:lr,setup(n){const e=n,t=at(),a=me("text"),s=k(()=>[a.b(),a.m(e.type),a.m(t.value),a.is("truncated",e.truncated)]);return(i,r)=>($(),Y(Be(i.tag),{class:A(l(s))},{default:F(()=>[pe(i.$slots,"default")]),_:3},8,["class"]))}});var ur=he(or,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const cr=Me(ur),vn=["success","info","warning","error"],ue=Nt({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ln?document.body:void 0}),dr=ve({customClass:{type:String,default:ue.customClass},center:{type:Boolean,default:ue.center},dangerouslyUseHTMLString:{type:Boolean,default:ue.dangerouslyUseHTMLString},duration:{type:Number,default:ue.duration},icon:{type:et,default:ue.icon},id:{type:String,default:ue.id},message:{type:Se([String,Object,Function]),default:ue.message},onClose:{type:Se(Function),required:!1},showClose:{type:Boolean,default:ue.showClose},type:{type:String,values:vn,default:ue.type},offset:{type:Number,default:ue.offset},zIndex:{type:Number,default:ue.zIndex},grouping:{type:Boolean,default:ue.grouping},repeatNum:{type:Number,default:ue.repeatNum}}),fr={destroy:()=>!0},be=jn([]),pr=n=>{const e=be.findIndex(s=>s.id===n),t=be[e];let a;return e>0&&(a=be[e-1]),{current:t,prev:a}},vr=n=>{const{prev:e}=pr(n);return e?e.vm.exposed.bottom.value:0},mr=(n,e)=>be.findIndex(a=>a.id===n)>0?20:e,gr=["id"],br=["innerHTML"],yr=Z({name:"ElMessage"}),hr=Z({...yr,props:dr,emits:fr,setup(n,{expose:e}){const t=n,{Close:a}=Wn,{ns:s,zIndex:i}=zn("message"),{currentZIndex:r,nextZIndex:o}=i,c=O(),h=O(!1),g=O(0);let m;const d=k(()=>t.type?t.type==="error"?"danger":t.type:"info"),S=k(()=>{const N=t.type;return{[s.bm("icon",N)]:N&&qt[N]}}),B=k(()=>t.icon||qt[t.type]||""),y=k(()=>vr(t.id)),w=k(()=>mr(t.id,t.offset)+y.value),v=k(()=>g.value+w.value),f=k(()=>({top:`${w.value}px`,zIndex:r.value}));function b(){t.duration!==0&&({stop:m}=Dn(()=>{u()},t.duration))}function T(){m?.()}function u(){h.value=!1}function P({code:N}){N===Ue.esc&&u()}return Oe(()=>{b(),o(),h.value=!0}),te(()=>t.repeatNum,()=>{T(),b()}),Un(document,"keydown",P),nt(c,()=>{g.value=c.value.getBoundingClientRect().height}),e({visible:h,bottom:v,close:u}),(N,R)=>($(),Y(nn,{name:l(s).b("fade"),onBeforeLeave:N.onClose,onAfterLeave:R[0]||(R[0]=q=>N.$emit("destroy")),persisted:""},{default:F(()=>[Tt(K("div",{id:N.id,ref_key:"messageRef",ref:c,class:A([l(s).b(),{[l(s).m(N.type)]:N.type&&!N.icon},l(s).is("center",N.center),l(s).is("closable",N.showClose),N.customClass]),style:ke(l(f)),role:"alert",onMouseenter:T,onMouseleave:b},[N.repeatNum>1?($(),Y(l(Ss),{key:0,value:N.repeatNum,type:l(d),class:A(l(s).e("badge"))},null,8,["value","type","class"])):X("v-if",!0),l(B)?($(),Y(l(de),{key:1,class:A([l(s).e("icon"),l(S)])},{default:F(()=>[($(),Y(Be(l(B))))]),_:1},8,["class"])):X("v-if",!0),pe(N.$slots,"default",{},()=>[N.dangerouslyUseHTMLString?($(),H(kt,{key:1},[X(" Caution here, message could've been compromised, never use user's input as message "),K("p",{class:A(l(s).e("content")),innerHTML:N.message},null,10,br)],2112)):($(),H("p",{key:0,class:A(l(s).e("content"))},W(N.message),3))]),N.showClose?($(),Y(l(de),{key:2,class:A(l(s).e("closeBtn")),onClick:rn(u,["stop"])},{default:F(()=>[p(l(a))]),_:1},8,["class","onClick"])):X("v-if",!0)],46,gr),[[Pt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var wr=he(hr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let _r=1;const mn=n=>{const e=!n||we(n)||St(n)||De(n)?{message:n}:n,t={...ue,...e};if(!t.appendTo)t.appendTo=document.body;else if(we(t.appendTo)){let a=document.querySelector(t.appendTo);Kn(a)||(a=document.body),t.appendTo=a}return t},Sr=n=>{const e=be.indexOf(n);if(e===-1)return;be.splice(e,1);const{handler:t}=n;t.close()},xr=({appendTo:n,...e},t)=>{const a=`message_${_r++}`,s=e.onClose,i=document.createElement("div"),r={...e,id:a,onClose:()=>{s?.(),Sr(g)},onDestroy:()=>{Lt(null,i)}},o=p(wr,r,De(r.message)||St(r.message)?{default:De(r.message)?r.message:()=>r.message}:null);o.appContext=t||Le._context,Lt(o,i),n.appendChild(i.firstElementChild);const c=o.component,g={id:a,vnode:o,vm:c,handler:{close:()=>{c.exposed.visible.value=!1}},props:o.component.props};return g},Le=(n={},e)=>{if(!ln)return{close:()=>{}};if(_e(It.max)&&be.length>=It.max)return{close:()=>{}};const t=mn(n);if(t.grouping&&be.length){const s=be.find(({vnode:i})=>{var r;return((r=i.props)==null?void 0:r.message)===t.message});if(s)return s.props.repeatNum+=1,s.props.type=t.type,s.handler}const a=xr(t,e);return be.push(a),a.handler};vn.forEach(n=>{Le[n]=(e={},t)=>{const a=mn(e);return Le({...a,type:n},t)}});function Er(n){for(const e of be)(!n||n===e.props.type)&&e.handler.close()}Le.closeAll=Er;Le._context=null;const Yt=Gn(Le,"$message");const Cr="/torrents/assets/main-5847766a.wasm";let gn=async function(n){const e=await crypto.subtle.digest("SHA-1",n);return new Uint8Array(e)};if(typeof WebAssembly<"u"){console.log("wasm enabled");const n=new Go,e=await WebAssembly.instantiateStreaming(fetch(Cr),n.importObject);console.log(e),n.run(e.instance),gn=async t=>{const a=new Uint8Array(20);return go_sha1(t,a)}}const Zt=new Map;async function kr(n,e,t,a,s){const i=n.reduce((d,S)=>d+S.size,0),r=n.map(d=>d.uid).join("|")+t,o=Zt.get(r);if(o)return s(i,i,a),o;const c=await Fr(n,e,t,i,a,s),h=c.reduce((d,S)=>d+S.byteLength,0),g=new Uint8Array(h);let m=0;for(const d of c)g.set(d,m),m+=d.byteLength;return Zt.set(r,g),g}async function Fr(n,e,t,a,s,i){const r=[];let o=0,c=0,h=0;return await new Promise(async g=>{for await(let m of Tr(n,a,e,t))if(m){if(c+=m.byteLength,!i(c,a,s))throw new Error("Canceled");await Pr(o++,m,(d,S,B)=>{r[d]=B,h+=S,h===a&&g()})}}),r}function Tr(n,e,t,a){t<a&&(t=a);const s=n.length;let i=0,r=0;const o=async()=>{let m=await n[i].slice(r,r+t).arrayBuffer(),d=m.byteLength;for(r+=d;d<t&&i+1<s&&(i++,r=0,!(i>=s));){const S=t-d,B=await n[i].slice(r,r+S).arrayBuffer(),y=B.byteLength;d+=y,r+=y;const w=new Uint8Array(d);w.set(new Uint8Array(m)),w.set(new Uint8Array(B),m.byteLength),m=w}return m};let c=null,h=0,g=0;return{[Symbol.asyncIterator](){return{async next(){if(g==e)return{done:!0};c==null&&(c=await o());const m=c.slice(h,h+a);let d=m.byteLength;if(h+=d,g+=d,d==a)return{done:!1,value:m};if(c.byteLength<t)return{done:!1,value:m};c=await o(),h=0;const S=a-d,B=c.slice(h,h+S),y=B.byteLength;h+=y,g+=y;const w=new Uint8Array(d+y);return w.set(new Uint8Array(m)),w.set(new Uint8Array(B),d),{done:!1,value:w}}}}}}const _t=Nr();async function Pr(n,e,t){return new Promise(a=>{if(location.search.includes("sha1=fake")){t(n,e.byteLength,new Uint8Array(20)),a();return}_t.length>0?(a(),bn(n,e,t)):gn(e).then(s=>{t(n,e.byteLength,s),a()})})}function Nr(){let n=[];try{const e=Math.min(navigator.hardwareConcurrency||1,8);for(let t=0;t<e;t++)n.push(new Worker(new URL("/torrents/assets/worker-d8e16fed.js",self.location)))}catch(e){console.log("init worker error",e),n=[]}return console.log("workes length",n.length,n),n}const ut=new Set,Jt=[];let ct=0;function bn(n,e,t){let a=null,s=-1;for(let o=0;o<_t.length;o++)if(!ut.has(o)){ut.add(o),s=o,a=_t[o];break}s>ct&&(ct=s,console.log("maxWorkerIndex=",ct));const i={workerIndex:s,pieceIndex:n,pieceData:e},r=new Date().getTime();a!=null?(a.postMessage(i),a.onmessage=o=>{const c=o.data;new Date().getTime()-r,t(c.pieceIndex,c.pieceLengh,c.pieceHash),ut.delete(c.workerIndex);const h=Jt.shift();h&&(console.log("do previous task",h),bn(h.req.pieceIndex,h.req.pieceData,h.callback))}):(console.log("waiting a worker",i),Jt.push({req:i,callback:t}))}function Ae(n){return n<1024?ce("{0} B",n):n<1024*1024?ce("{0} KB",(n/1024).toFixed(2)):n<1024*1024*1024?ce("{0} MB",(n/1024/1024).toFixed(2)):n<1024*1024*1024*1024?ce("{0} GB",(n/1024/1024/1024).toFixed(2)):ce("{0} TB",(n/1024/1024/1024/1024).toFixed(2))}const yn=n=>(aa("data-v-889af7f4"),n=n(),sa(),n),$r={class:"flex justify-around"},Br={key:0},Or=yn(()=>K("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),Vr={class:"el-upload__text"},Ar={key:1},qr=yn(()=>K("i",{i:"ep-upload-filled",class:"el-icon--upload inline-flex"},null,-1)),Ir={class:"el-upload__text"},Lr={class:"el-upload__tip"},Rr={class:"flex justify-between"},Mr={class:"flex justify-between"},jr={class:"flex justify-between"},zr=Z({__name:"CreateView",setup(n){const e=["type","add_file","settings","generate"],s=O(0),i=k({get:()=>e[s.value],set:V=>{const _=e.indexOf(V);_>=0&&(s.value=_)}}),r=O(!1),o=!1,c=V=>{r.value=V,s.value=1,m.value.clearFiles()},h=E("Your broswer does not support select folder, please select files one by one. (All files should be on the same folder.)"),g=k(()=>s.value>0?r.value?Ne("desc","Single File"):Ne("desc","Folder"):""),m=O(),d=O([]),S=V=>{m.value.clearFiles();const _=V[0];m.value.handleStart(_)};function B(){s.value=2,f.folderName=y()}function y(){return""}function w(V){const _=V.raw?.webkitRelativePath;return _||V.name}const v=k(()=>{if(s.value<1)return"";if(r.value){let V=d.value[0]?.name;return V&&V.length>40&&(V=V.substring(0,18)+"..."+V.substring(V.length-18)),V}else if(d.value.length>0)return ce(E("{0} Files"),d.value.length);return""}),f=Ie({folderName:"",pieceSize:0,readBlockSize:16777216,isPrivate:!1,setCreation:!0,trackers:"",webSeeds:"",comment:"",source:""}),b=V=>{d.value.splice(V,1)},T=k(()=>{if(s.value<=2)return"";let V="";if(r){const _=d.value[0].size;V+=Ae(_),f.isPrivate?V=ce(Ne("settings desc","PT ({0})"),Ae(_)):V=ce(Ne("settings desc","BT ({0})"),Ae(_))}return V}),u=()=>{if(!r.value&&!o&&f.folderName==="")return P(E("Folder name can not be empty."));if(f.trackers!==""){const V=f.trackers.trim().split(/\s+/g);for(let _ of V)try{new URL(_)}catch{return P(ce(E("invalid tracker URL: {0}"),_))}}s.value++,ae()};function P(V){fa.error({title:E("Error"),message:V})}const N=O(!1),R=Ie({pct:0,status:""}),q=O(0),U=k(()=>N.value?ce(E("done ({0})"),Rt(q.value)):""),C=O({announce:"","announce-list":[],"created by":"https://pub-go.github.io/torrents/",info:{name:"","piece length":0,pieces:new Uint8Array}}),j=O(),z=O(""),G=O(""),oe=k(()=>d.value.reduce((V,_)=>V+_.size,0)),ae=async()=>{N.value=!1,ge.value=!1,R.pct=0,R.status="";const V=new Date().getTime();if(G.value=V+"",f.trackers){const ie=f.trackers.trim().split(/\s+/g);C.value.announce=ie[0],C.value["announce-list"]=ie.map(x=>[x])}else delete C.value.announce,delete C.value["announce-list"];f.setCreation?C.value["creation date"]=new Date().getTime()/1e3|0:delete C.value["creation date"],f.comment?C.value.comment=f.comment:delete C.value.comment;const _=f.webSeeds.split(/\s+/g);f.webSeeds?C.value["url-list"]=_:delete C.value["url-list"];const ye=D();C.value.info.name=ye,j.value.download=ye+".torrent",f.pieceSize?C.value.info["piece length"]=f.pieceSize:C.value.info["piece length"]=xe(oe.value),r.value?C.value.info.length=d.value[0].size:C.value.info.files=d.value.map(ie=>({length:ie.size,path:w(ie).split("/")}));try{C.value.info.pieces=await kr(d.value.map(ie=>ie.raw),f.readBlockSize,C.value.info["piece length"],G.value,(ie,x,M)=>(R.pct=Qn(100*ie/x,2),ie===x&&(R.status="success"),M==G.value))}catch{Yt.info({message:E("task canceled.")});return}q.value=new Date().getTime()-V,Yt.success({message:ce(E("Generate torrent file success. ({0})"),Rt(q.value))}),N.value=!0,URL.revokeObjectURL(z.value),z.value=URL.createObjectURL(new Blob([Mt(C.value).Encode()])),j.value.href=z.value};function D(){return r.value?d.value[0].name:f.folderName}function xe(V){let _=Math.round(Math.log(V/1200)/Math.log(2));return _<14?_=14:_>24&&(_=24),1<<_}const Fe=()=>{s.value=e.length,j.value.click()},ge=O(!1),Te=O(new pa({})),Pe=()=>{ge.value=!ge.value,Te.value=Mt(C.value)};return(V,_)=>{const ye=Bs,ie=$s,x=va,M=rr,ee=ma,Q=cr,se=ga,re=gs,J=ba,$t=ya,rt=ea,hn=ta,Bt=Us,wn=ms,_n=ha,Sn=sr,xn=Hn;return $(),Y(xn,{class:"is-vertical"},{default:F(()=>[p(ie,{class:"w100%",active:s.value,"finish-status":"success"},{default:F(()=>[p(ye,{title:l(E)("Select Type"),description:l(g)},null,8,["title","description"]),p(ye,{title:l(E)("Add File"),description:l(v)},null,8,["title","description"]),p(ye,{title:l(E)("Settings"),description:l(T)},null,8,["title","description"]),p(ye,{title:l(E)("Generate"),description:l(U)},null,8,["title","description"])]),_:1},8,["active"]),p(Sn,{modelValue:l(i),"onUpdate:modelValue":_[18]||(_[18]=I=>Xn(i)?i.value=I:null)},{default:F(()=>[p(M,{name:e[0],label:l(E)("Select Type")},{default:F(()=>[K("div",$r,[p(x,{type:"primary",onClick:_[0]||(_[0]=I=>c(!0))},{default:F(()=>[le(W(l(Ne)("btn","Single File")),1)]),_:1}),p(x,{type:"primary",onClick:_[1]||(_[1]=I=>c(!1))},{default:F(()=>[le(W(l(Ne)("btn","Folder")),1)]),_:1})])]),_:1},8,["name","label"]),p(M,{name:e[1],label:l(E)("Add File")},{default:F(()=>[r.value?($(),H("div",Br,[p(ee,{ref_key:"uploadRef",ref:m,drag:"","auto-upload":!1,"file-list":d.value,"onUpdate:fileList":_[2]||(_[2]=I=>d.value=I),limit:1,"on-exceed":S},{default:F(()=>[Or,K("div",Vr,W(l(E)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])):($(),H("div",Ar,[p(ee,{ref_key:"uploadRef",ref:m,drag:"","auto-upload":!1,"file-list":d.value,"onUpdate:fileList":_[3]||(_[3]=I=>d.value=I),multiple:""},{tip:F(()=>[K("div",Lr,W(o?l(E)("Plsease select a folder."):l(h)),1)]),default:F(()=>[qr,K("div",Ir,W(l(E)("Drop file here or click to upload")),1)]),_:1},8,["file-list"])])),K("div",Rr,[p(x,{onClick:_[4]||(_[4]=I=>s.value--)},{default:F(()=>[le(W(l(E)("Previous Step")),1)]),_:1}),d.value.length>0?($(),Y(x,{key:0,onClick:_[5]||(_[5]=I=>m.value?.clearFiles())},{default:F(()=>[le(W(l(E)("Clear Files")),1)]),_:1})):X("",!0),p(x,{disabled:d.value.length==0,type:"primary",onClick:B},{default:F(()=>[le(W(l(E)("Next Step")),1)]),_:1},8,["disabled"])])]),_:1},8,["name","label"]),p(M,{name:e[2],label:l(E)("Settings")},{default:F(()=>[K("div",null,[p(wn,{model:f,"label-width":"120px"},{default:F(()=>[r.value?X("",!0):($(),Y(re,{key:0,label:l(E)("Folder Name")},{default:F(()=>[o?($(),Y(Q,{key:0},{default:F(()=>[le(W(f.folderName),1)]),_:1})):($(),Y(se,{key:1,modelValue:f.folderName,"onUpdate:modelValue":_[6]||(_[6]=I=>f.folderName=I)},null,8,["modelValue"]))]),_:1},8,["label"])),p(re,{label:l(E)("File List")},{default:F(()=>[K("ul",null,[($(!0),H(kt,null,Yn(d.value,(I,En)=>($(),H("li",null,[p(x,{icon:l(na),onClick:Ur=>b(En)},null,8,["icon","onClick"]),le(" "+W(l(ce)(l(Ne)("file-size","{0} ({1})"),I.raw?.webkitRelativePath?I.raw?.webkitRelativePath:I.name,l(Ae)(I.size))),1)]))),256))])]),_:1},8,["label"]),p(re,{label:l(E)("Piece Size")},{default:F(()=>[p($t,{modelValue:f.pieceSize,"onUpdate:modelValue":_[7]||(_[7]=I=>f.pieceSize=I),class:"w100%"},{default:F(()=>[p(J,{label:l(ce)(l(E)("Auto ({0})"),l(Ae)(xe(l(oe)))),value:0},null,8,["label"]),p(J,{label:l(E)("16 KB"),value:16384},null,8,["label"]),p(J,{label:l(E)("32 KB"),value:32768},null,8,["label"]),p(J,{label:l(E)("64 KB"),value:65536},null,8,["label"]),p(J,{label:l(E)("128 KB"),value:131072},null,8,["label"]),p(J,{label:l(E)("256 KB"),value:262144},null,8,["label"]),p(J,{label:l(E)("512 KB"),value:524288},null,8,["label"]),p(J,{label:l(E)("1 MB"),value:1048576},null,8,["label"]),p(J,{label:l(E)("2 MB"),value:2097152},null,8,["label"]),p(J,{label:l(E)("4 MB"),value:4194304},null,8,["label"]),p(J,{label:l(E)("8 MB"),value:8388608},null,8,["label"]),p(J,{label:l(E)("16 MB"),value:16777216},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Read Block Size")},{default:F(()=>[p(hn,{class:"w100%"},{default:F(()=>[p(rt,{xs:24,sm:12,md:4},{default:F(()=>[p($t,{modelValue:f.readBlockSize,"onUpdate:modelValue":_[8]||(_[8]=I=>f.readBlockSize=I),class:"w100%"},{default:F(()=>[p(J,{label:l(E)("16 KB"),value:16384},null,8,["label"]),p(J,{label:l(E)("32 KB"),value:32768},null,8,["label"]),p(J,{label:l(E)("64 KB"),value:65536},null,8,["label"]),p(J,{label:l(E)("128 KB"),value:131072},null,8,["label"]),p(J,{label:l(E)("256 KB"),value:262144},null,8,["label"]),p(J,{label:l(E)("512 KB"),value:524288},null,8,["label"]),p(J,{label:l(E)("1 MB"),value:1048576},null,8,["label"]),p(J,{label:l(E)("2 MB"),value:2097152},null,8,["label"]),p(J,{label:l(E)("4 MB"),value:4194304},null,8,["label"]),p(J,{label:l(E)("8 MB"),value:8388608},null,8,["label"]),p(J,{label:l(E)("16 MB"),value:16777216},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),p(rt,{xs:24,sm:12,md:8,lg:6},{default:F(()=>[p(se,{modelValue:f.readBlockSize,"onUpdate:modelValue":_[9]||(_[9]=I=>f.readBlockSize=I),type:"number"},{append:F(()=>[le(W(l(ce)(l(E)("Bytes / {0}"),l(Ae)(f.readBlockSize))),1)]),_:1},8,["modelValue"])]),_:1}),p(rt,{xs:24,sm:24,md:24,lg:14},{default:F(()=>[p(Q,null,{default:F(()=>[le(W(l(E)("read file by block: set block size larger to make reading faster (and cost more memory).")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["label"]),p(re,{label:l(E)("Is Private")},{default:F(()=>[p(Bt,{modelValue:f.isPrivate,"onUpdate:modelValue":_[10]||(_[10]=I=>f.isPrivate=I)},null,8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Creation Date")},{default:F(()=>[p(Bt,{modelValue:f.setCreation,"onUpdate:modelValue":_[11]||(_[11]=I=>f.setCreation=I)},null,8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Trackers")},{default:F(()=>[p(se,{modelValue:f.trackers,"onUpdate:modelValue":_[12]||(_[12]=I=>f.trackers=I),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Web Seeds")},{default:F(()=>[p(se,{modelValue:f.webSeeds,"onUpdate:modelValue":_[13]||(_[13]=I=>f.webSeeds=I),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Comment")},{default:F(()=>[p(se,{modelValue:f.comment,"onUpdate:modelValue":_[14]||(_[14]=I=>f.comment=I),type:"textarea"},null,8,["modelValue"])]),_:1},8,["label"]),p(re,{label:l(E)("Source")},{default:F(()=>[p(se,{modelValue:f.source,"onUpdate:modelValue":_[15]||(_[15]=I=>f.source=I)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"]),K("div",Mr,[p(x,{onClick:_[16]||(_[16]=I=>s.value--)},{default:F(()=>[le(W(l(E)("Previous Step")),1)]),_:1}),p(x,{type:"primary",disabled:d.value.length==0,onClick:u},{default:F(()=>[le(W(l(E)("Next Step")),1)]),_:1},8,["disabled"])])])]),_:1},8,["name","label"]),p(M,{name:e[3],label:l(E)("Generate")},{default:F(()=>[p(_n,{percentage:R.pct,status:R.status,"text-inside":!0,"stroke-width":26,class:"mb-4",striped:R.pct<100,"striped-flow":R.pct<100},null,8,["percentage","status","striped","striped-flow"]),K("div",jr,[p(x,{onClick:_[17]||(_[17]=I=>{s.value=2,N.value=!1,G.value=""})},{default:F(()=>[le(W(l(E)("Previous Step")),1)]),_:1}),p(x,{disabled:!N.value,type:"info",icon:ge.value?l(Zn):l(Jn),onClick:Pe},{default:F(()=>[le(W(l(E)("Preview")),1)]),_:1},8,["disabled","icon"]),K("a",{ref_key:"downloadLink",ref:j,class:"hidden",id:"download"},W(l(E)("Download")),513),p(x,{disabled:!N.value,type:"primary",onClick:Fe},{default:F(()=>[le(W(l(E)("Download")),1)]),_:1},8,["disabled"])]),ge.value?($(),Y(da,{key:0,data:Te.value,name:`${C.value.info.name}.torrent`},null,8,["data","name"])):X("",!0)]),_:1},8,["name","label"])]),_:1},8,["modelValue"])]),_:1})}}});const Kr=ra(zr,[["__scopeId","data-v-889af7f4"]]);export{Kr as default};
